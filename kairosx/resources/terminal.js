!function a(b,c,e){function f(d,j){if(!c[d]){if(!b[d]){var i=typeof require=='function'&&require;if(!j&&i)return i(d,!0);if(g)return g(d,!0);throw new Error("Cannot find module '"+d+"'")}var h=c[d]={exports:{}};b[d][0].call(h.exports,function(c){var a=b[d][1][c];return f(a?a:c)},h,h.exports,a,b,c,e)}return c[d].exports}var g=typeof require=='function'&&require;for(var d=0;d<e.length;d++)f(e[d]);return f}({1:[function(a,D,C){function b(a){window.parent&&window.parent.postMessage&&window.parent.postMessage(a,'*')}function r(){document.body.className='focused'}function t(){document.body.className=''}function v(c){document.hasFocus&&document.hasFocus()&&r(),f=c||f;var a=f.split('/')[2];a!=='log'&&b('stream:'+a),l()}function l(){c=k(f);var a=new m(u);c.pipe(a).pipe(c),c.on('end',g),c.on('connect',j)}function B(){console.log('DIS'),b('term:dis'),c.removeListener('end',g),c.end()}function g(){if(console.log('RE'),window.term)try{document.body.removeChild(window.term.element)}catch(a){}e=!0,w(),setTimeout(l,5e3)}function u(a){e&&(e=!1,j()),a.meta==='terminal'&&y(a),a.meta==='clientEvents'&&A(a),a.meta==='terminalLog'&&x(a)}function j(){document.getElementById('loader').style.display='none',b('hide:loader')}function w(){document.getElementById('loader').style.display='block',b('show:loader')}function x(a){a.on('data',function(a){b('term:data'+a)})}function y(c){window.pty=c;var a=window.term=new s({cols:80,rows:24,useStyle:!0,screenKeys:!0});c.on('data',function(a){/\[1;32mExecuting Build Command: /.test(a)&&(console.log('BUILD'),b('stream:build')),/\[1;32mExecuting Run Command: /.test(a)&&(console.log('RUN'),b('stream:run')),/Process exited with code: /.test(a)&&(console.log('ERROR'),b('stream:error'))}),a.on('data',c.write.bind(c)),a.once('data',function(a){d.emit('enableLog')}),a.open(),c.pipe(a),a.end=a.destroy;var e=z.bind(null,a);e(),setTimeout(e,1e3),window.onresize=e}function z(a){var b=document.body.clientWidth/a.element.offsetWidth,c=document.body.clientHeight/a.element.offsetHeight;b=b*a.cols|0,c=c*a.rows|0,a.resize(b,c),typeof i==='function'&&i(b,c)}function A(g){var c=a('querystring').parse(window.location.search.slice(1)),b=c.options?JSON.parse(c.options):null,e=b&&b.args?b.args:[],f=b&&b.env?b.env:{};n.toStream(d).pipe(o.stringify()).pipe(g),i=function(a,b){d.emit('resize',a,b)},d.emit('startTerminal',e,f),setInterval(function a(){d.emit('ping',!0)},1e3)}a('es5-shimify');var s=a('term.js'),k=a('shoe'),i,m=a('mux-demux'),n=a('emit-stream'),o=a('JSONStream'),p=a('events').EventEmitter,q=a('away'),f,e=!0,c,d=new p,h=q(6e5);h.on('idle',B),h.on('active',g),window.onfocus=r,window.onblur=t,window.start=v},{JSONStream:2,away:5,'emit-stream':15,'es5-shimify':17,events:7,'mux-demux':18,querystring:9,shoe:24,'term.js':26}],2:[function(a,i,c){function d(a,b){return'string'===typeof a?b==a:a&&'function'===typeof a.exec?a.exec(b):'boolean'===typeof a?a:'function'===typeof a?a(b):!1}var e=a('__browserify_process'),f=a('__browserify_Buffer').Buffer,g=a('jsonparse'),h=a('stream').Stream,b=a('through');c.parse=function(c){var h=new g,a=b(function(a){if('string'===typeof a)if(e.browser){var c=new Array(a.length);for(var b=0;b<a.length;b++)c[b]=a.charCodeAt(b);a=new Int32Array(c)}else a=new f(a);h.write(a)},function(b){b&&a.write(b),a.queue(null)});'string'===typeof c&&(c=c.split('.').map(function(a){return a==='*'?!0:a===''?{recurse:!0}:a}));var i=0;return c&&c.length||(c=null),h.onValue=function(){if(!this.root&&this.stack.length==1&&(a.root=this.value),!c)return;var e=0,b=0;while(e<c.length){var g=c[e],f;if(b++,g&&!g.recurse){if(f=b===this.stack.length?this:this.stack[b],!f)return;if(!d(g,f.key))return;e++}else{e++;var h=c[e];if(!h)return;while(!0){if(f=b===this.stack.length?this:this.stack[b],!f)return;if(d(h,f.key)){e++;break}b++}}}if(b!==this.stack.length)return;i++,null!=this.value[this.key]&&a.queue(this.value[this.key]),delete this.value[this.key]},h._onToken=h.onToken,h.onToken=function(b,d){h._onToken(b,d),this.stack.length===0&&a.root&&(c||a.queue(a.root),a.emit('root',a.root,i),i=0,a.root=null)},h.onError=function(b){a.emit('error',b)},a},c.stringify=function(c,d,e){c===!1?(c='',d='\n',e=''):c==null&&(c='[\n',d='\n,\n',e='\n]\n');var a,f=!0,g=!1;return a=b(function(e){g=!0;var b=JSON.stringify(e);f?(f=!1,a.queue(c+b)):a.queue(d+b)},function(b){g||a.queue(c),a.queue(e),a.queue(null)}),a},c.stringifyObject=function(c,d,e){c===!1?(c='',d='\n',e=''):c==null&&(c='{\n',d='\n,\n',e='\n}\n');var a=new h,f=!0,g=!1;return a=b(function(e){g=!0;var b=JSON.stringify(e[0])+':'+JSON.stringify(e[1]);f?(f=!1,a.queue(c+b)):a.queue(d+b)},function(b){g||a.queue(c),a.queue(e),a.queue(null)}),a}},{__browserify_Buffer:13,__browserify_process:14,jsonparse:3,stream:10,through:4}],3:[function(T,U,V){function y(c){var d=Object.keys(a);for(var b=0,f=d.length;b<f;b++){var e=d[b];if(a[e]===c)return e}return c&&'0x'+c.toString(16)}function S(){this.tState=d,this.value=undefined,this.string=undefined,this.unicode=undefined,this.negative=undefined,this.magnatude=undefined,this.position=undefined,this.exponent=undefined,this.negativeExponent=undefined,this.key=undefined,this.mode=undefined,this.stack=[],this.state=e,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new l(2),3:new l(3),4:new l(4)}}var l=T('__browserify_Buffer').Buffer,a={},M=a.LEFT_BRACE=1,h=a.RIGHT_BRACE=2,J=a.LEFT_BRACKET=3,n=a.RIGHT_BRACKET=4,i=a.COLON=5,j=a.COMMA=6,F=a.TRUE=7,G=a.FALSE=8,H=a.NULL=9,t=a.STRING=10,f=a.NUMBER=11,d=a.START=17,u=a.TRUE1=33,v=a.TRUE2=34,w=a.TRUE3=35,x=a.FALSE1=49,L=a.FALSE2=50,z=a.FALSE3=51,A=a.FALSE4=52,B=a.NULL1=65,C=a.NULL3=66,D=a.NULL2=67,E=a.NUMBER1=81,o=a.NUMBER2=82,p=a.NUMBER3=83,q=a.NUMBER4=84,I=a.NUMBER5=85,m=a.NUMBER6=86,K=a.NUMBER7=87,s=a.NUMBER8=88,c=a.STRING1=97,N=a.STRING2=98,O=a.STRING3=99,R=a.STRING4=100,Q=a.STRING5=101,P=a.STRING6=102,e=a.VALUE=113,r=a.KEY=114,g=a.OBJECT=129,k=a.ARRAY=130,b=S.prototype;b.charError=function(b,a){this.onError(new Error('Unexpected '+JSON.stringify(String.fromCharCode(b[a]))+' at position '+a+' in state '+y(this.tState)))},b.onError=function(a){throw a},b.write=function(e){typeof e==='string'&&(e=new l(e));var a;for(var b=0,r=e.length;b<r;b++)if(this.tState===d)a=e[b],a===123?this.onToken(M,'{'):a===125?this.onToken(h,'}'):a===91?this.onToken(J,'['):a===93?this.onToken(n,']'):a===58?this.onToken(i,':'):a===44?this.onToken(j,','):a===116?this.tState=u:a===102?this.tState=x:a===110?this.tState=B:a===34?(this.string='',this.tState=c):a===45?(this.negative=!0,this.tState=E):a===48?(this.magnatude=0,this.tState=o):a>48&&a<64?(this.magnatude=a-48,this.tState=p):a===32||a===9||a===10||a===13||this.charError(e,b);else if(this.tState===c)if(a=e[b],this.bytes_remaining>0){for(var g=0;g<this.bytes_remaining;g++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+g]=e[g];this.string+=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,b=b+g-1}else if(this.bytes_remaining===0&&a>=128)if(a>=194&&a<=223&&(this.bytes_in_sequence=2),a>=224&&a<=239&&(this.bytes_in_sequence=3),a>=240&&a<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+b>e.length){for(var k=0;k<=e.length-1-b;k++)this.temp_buffs[this.bytes_in_sequence][k]=e[b+k];this.bytes_remaining=b+this.bytes_in_sequence-e.length,b=e.length-1}else this.string+=e.slice(b,b+this.bytes_in_sequence).toString(),b=b+this.bytes_in_sequence-1;else a===34?(this.tState=d,this.onToken(t,this.string),this.string=undefined):a===92?this.tState=N:a>=32?this.string+=String.fromCharCode(a):this.charError(e,b);else this.tState===N?(a=e[b],a===34?(this.string+='"',this.tState=c):a===92?(this.string+='\\',this.tState=c):a===47?(this.string+='/',this.tState=c):a===98?(this.string+='',this.tState=c):a===102?(this.string+='',this.tState=c):a===110?(this.string+='\n',this.tState=c):a===114?(this.string+='\r',this.tState=c):a===116?(this.string+='	',this.tState=c):a===117?(this.unicode='',this.tState=O):this.charError(e,b)):this.tState===O||this.tState===R||this.tState===Q||this.tState===P?(a=e[b],a>=48&&a<64||a>64&&a<=70||a>96&&a<=102?(this.unicode+=String.fromCharCode(a),this.tState++===P&&(this.string+=String.fromCharCode(parseInt(this.unicode,16)),this.unicode=undefined,this.tState=c)):this.charError(e,b)):this.tState===E?(a=e[b],a===48?(this.magnatude=0,this.tState=o):a>48&&a<64?(this.magnatude=a-48,this.tState=p):this.charError(e,b)):this.tState===o?(a=e[b],a===46?(this.position=.1,this.tState=q):a===101||a===69?(this.exponent=0,this.tState=m):(this.tState=d,this.onToken(f,0),this.magnatude=undefined,this.negative=undefined,b--)):this.tState===p?(a=e[b],a===46?(this.position=.1,this.tState=q):a===101||a===69?(this.exponent=0,this.tState=m):a>=48&&a<64?this.magnatude=this.magnatude*10+a-48:(this.tState=d,this.negative&&(this.magnatude=-this.magnatude,this.negative=undefined),this.onToken(f,this.magnatude),this.magnatude=undefined,b--)):this.tState===q?(a=e[b],a>=48&&a<64?(this.magnatude+=this.position*(a-48),this.position/=10,this.tState=I):this.charError(e,b)):this.tState===I?(a=e[b],a>=48&&a<64?(this.magnatude+=this.position*(a-48),this.position/=10):a===101||a===69?(this.exponent=0,this.tState=m):(this.tState=d,this.negative&&(this.magnatude=-this.magnatude,this.negative=undefined),this.onToken(f,this.negative?-this.magnatude:this.magnatude),this.magnatude=undefined,this.position=undefined,b--)):this.tState===m?(a=e[b],a===43||a===45?(a===45&&(this.negativeExponent=!0),this.tState=K):a>=48&&a<64?(this.exponent=this.exponent*10+(a-48),this.tState=s):this.charError(e,b)):this.tState===K?(a=e[b],a>=48&&a<64?(this.exponent=this.exponent*10+(a-48),this.tState=s):this.charError(e,b)):this.tState===s?(a=e[b],a>=48&&a<64?this.exponent=this.exponent*10+(a-48):(this.negativeExponent&&(this.exponent=-this.exponent,this.negativeExponent=undefined),this.magnatude*=Math.pow(10,this.exponent),this.exponent=undefined,this.negative&&(this.magnatude=-this.magnatude,this.negative=undefined),this.tState=d,this.onToken(f,this.magnatude),this.magnatude=undefined,b--)):this.tState===u?e[b]===114?this.tState=v:this.charError(e,b):this.tState===v?e[b]===117?this.tState=w:this.charError(e,b):this.tState===w?e[b]===101?(this.tState=d,this.onToken(F,!0)):this.charError(e,b):this.tState===x?e[b]===97?this.tState=L:this.charError(e,b):this.tState===L?e[b]===108?this.tState=z:this.charError(e,b):this.tState===z?e[b]===115?this.tState=A:this.charError(e,b):this.tState===A?e[b]===101?(this.tState=d,this.onToken(G,!1)):this.charError(e,b):this.tState===B?e[b]===117?this.tState=C:this.charError(e,b):this.tState===C?e[b]===108?this.tState=D:this.charError(e,b):this.tState===D&&(e[b]===108?(this.tState=d,this.onToken(H,null)):this.charError(e,b))},b.onToken=function(a,b){},b.parseError=function(b,a){this.onError(new Error('Unexpected '+y(b)+(a?'('+JSON.stringify(a)+')':'')+' in state '+y(this.state)))},b.onError=function(a){throw a},b.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},b.pop=function(){var b=this.value,a=this.stack.pop();this.value=a.value,this.key=a.key,this.mode=a.mode,this.emit(b),this.mode||(this.state=e)},b.emit=function(a){this.mode&&(this.state=j),this.onValue(a)},b.onValue=function(a){},b.onToken=function(a,b){this.state===e?a===t||a===f||a===F||a===G||a===H?(this.value&&(this.value[this.key]=b),this.emit(b)):a===M?(this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=undefined,this.state=r,this.mode=g):a===J?(this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=k,this.state=e):a===h?this.mode===g?this.pop():this.parseError(a,b):a===n?this.mode===k?this.pop():this.parseError(a,b):this.parseError(a,b):this.state===r?a===t?(this.key=b,this.state=i):a===h?this.pop():this.parseError(a,b):this.state===i?a===i?this.state=e:this.parseError(a,b):this.state===j?a===j?this.mode===k?(this.key++,this.state=e):this.mode===g&&(this.state=r):a===n&&this.mode===k||a===h&&this.mode===g?this.pop():this.parseError(a,b):this.parseError(a,b)},U.exports=S},{__browserify_Buffer:13}],4:[function(b,e,f){function a(g,f,j){function k(){while(b.length&&!a.paused){var c=b.shift();if(null===c)return a.emit('end');a.emit('data',c)}}function l(){a.writable=!1,f.call(a),!a.readable&&a.autoDestroy&&a.destroy()}g=g||function(a){this.queue(a)},f=f||function(){this.queue(null)};var e=!1,h=!1,b=[],i=!1,a=new d;return a.readable=a.writable=!0,a.paused=!1,a.autoDestroy=!(j&&j.autoDestroy===!1),a.write=function(b){return g.call(this,b),!a.paused},a.queue=a.push=function(c){return i?a:(c==null&&(i=!0),b.push(c),k(),a)},a.on('end',function(){a.readable=!1,!a.writable&&a.autoDestroy&&c.nextTick(function(){a.destroy()})}),a.end=function(b){return e?void 0:(e=!0,arguments.length&&a.write(b),l(),a)},a.destroy=function(){return h?void 0:(h=!0,e=!0,b.length=0,a.writable=a.readable=!1,a.emit('close'),a)},a.pause=function(){return a.paused?void 0:(a.paused=!0,a)},a.resume=function(){return a.paused&&(a.paused=!1,a.emit('resume')),k(),a.paused||a.emit('drain'),a},a}var c=b('__browserify_process'),d=b('stream');f=e.exports=a,a.through=a},{__browserify_process:14,stream:10}],5:[function(h,i,j){function e(a){a.idle=!a.idle;var d=+new Date-a.olddate;if(a.olddate=+new Date,a.idle&&d<a.timeout){a.idle=!1,clearTimeout(a.timer_id),a.enabled&&(a.timer_id=setTimeout(a.state_fn,a.timeout));return}var e=a.idle?'idle':'active',c=e==='idle'?a.idle_fn:a.active_fn;for(var b=0;b<c.length;++b)c[b]()}var c=h('xtend');i.exports=function(a){return new b({timeout:a})};var g={start:!0,enabled:!0,timeout:3e4,element:document,events:'mousemove keydown DOMMouseScroll mousewheel mousedown touchstart touchmove'},b=function(b){var a=this;a.opt=c(g,b),a.element=a.opt.element,a.state={idle:a.opt.idle,timeout:a.opt.timeout,enabled:a.opt.enabled,idle_fn:[],active_fn:[]},a.state.state_fn=function(){e(a.state)},a.opt.start&&a.start()},a=b.prototype;a.start=function(){function g(b){if(clearTimeout(a.timer_id),!a.enabled)return;a.idle&&e(a),a.timer_id=setTimeout(a.state_fn,a.timeout)}var b=this,a=b.state,h=b.element;a.handler=g;var d=this.opt.events.split(' ');for(var c=0;c<d.length;++c){var i=d[c];f(h,i,g)}a.timer_id=setTimeout(b.state.state_fn,a.timeout)},a.on=function(d,b){var c=this,a=c.state;d==='idle'?a.idle_fn.push(b):a.active_fn.push(b)},a.getElapsed=function(){return+new Date-this.state.olddate},a.stop=function(){var e=this,a=this.state,f=e.element;a.enabled=!1,clearTimeout(a.timer_id);var c=this.opt.events.split(' ');for(var b=0;b<c.length;++b){var g=c[b];d(f,g,a.handler)}};var f=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent('on'+b,c)},d=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent('on'+b,c)}},{xtend:6}],6:[function(f,b,g){function c(){var f={};for(var b=0;b<arguments.length;b++){var c=arguments[b];if(!e(c))continue;var g=a(c);for(var d=0;d<g.length;d++){var h=g[d];f[h]=c[h]}}return f}function d(c){var a=[];for(var b in c)a.push(b);return a}function e(a){return a!==null&&typeof a==='object'}var a=Object.keys||d;b.exports=c},{}],7:[function(e,h,f){function g(b,c){if(b.indexOf)return b.indexOf(c);for(var a=0;a<b.length;a++)if(c===b[a])return a;return-1}var c=e('__browserify_process');c.EventEmitter||(c.EventEmitter=function(){});var a=f.EventEmitter=c.EventEmitter,b=typeof Array.isArray==='function'?Array.isArray:function(a){return Object.prototype.toString.call(a)==='[object Array]'},d=10;a.prototype.setMaxListeners=function(a){this._events||(this._events={}),this._events.maxListeners=a},a.prototype.emit=function(f){if(f==='error'&&(!(this._events&&this._events.error)||b(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var a=this._events[f];if(!a)return!1;if(!(typeof a=='function'))if(b(a)){var c=Array.prototype.slice.call(arguments,1),e=a.slice();for(var d=0,g=e.length;d<g;d++)e[d].apply(this,c);return!0}else return!1;switch(arguments.length){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:var c=Array.prototype.slice.call(arguments,1);a.apply(this,c)}return!0},a.prototype.addListener=function(a,c){if('function'!==typeof c)throw new Error('addListener only takes instances of Function');if(this._events||(this._events={}),this.emit('newListener',a,c),!this._events[a])this._events[a]=c;else if(b(this._events[a])){if(!this._events[a].warned){var e;this._events.maxListeners!==undefined?e=this._events.maxListeners:e=d,e&&e>0&&this._events[a].length>e&&(this._events[a].warned=!0,console.error('(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.',this._events[a].length),console.trace())}this._events[a].push(c)}else this._events[a]=[this._events[a],c];return this},a.prototype.on=a.prototype.addListener,a.prototype.once=function(b,c){var a=this;return a.on(b,function d(){a.removeListener(b,d),c.apply(this,arguments)}),this},a.prototype.removeListener=function(a,d){if('function'!==typeof d)throw new Error('removeListener only takes instances of Function');if(!(this._events&&this._events[a]))return this;var c=this._events[a];if(b(c)){var e=g(c,d);if(e<0)return this;c.splice(e,1),c.length==0&&delete this._events[a]}else this._events[a]===d&&delete this._events[a];return this},a.prototype.removeAllListeners=function(a){return arguments.length===0?(this._events={},this):(a&&this._events&&this._events[a]&&(this._events[a]=null),this)},a.prototype.listeners=function(a){return this._events||(this._events={}),this._events[a]||(this._events[a]=[]),b(this._events[a])||(this._events[a]=[this._events[a]]),this._events[a]},a.listenerCount=function(a,c){var b;return a._events&&a._events[c]?typeof a._events[c]==='function'?b=1:b=a._events[c].length:b=0,b}},{__browserify_process:14}],8:[function(a,b,c){},{}],9:[function(u,v,l){function i(a,b){if(a[b].length==0)return a[b]={};var c={};for(var d in a[b])c[d]=a[b][d];return a[b]=c,c}function f(l,e,g,k){var j=l.shift();if(!j)a(e[g])?e[g].push(k):'object'==typeof e[g]?e[g]=k:void 0===e[g]?e[g]=k:e[g]=[e[g],k];else{var h=e[g]=e[g]||[];']'==j?a(h)?''!=k&&h.push(k):'object'==typeof h?h[d(h).length]=k:h=e[g]=[e[g],k]:~b(j,']')?(j=j.substr(0,j.length-1),!c.test(j)&&a(h)&&(h=i(e,g)),f(l,h,j,k)):(!c.test(j)&&a(h)&&(h=i(e,g)),f(l,h,j,k))}}function k(d,e,j){if(~b(e,']')){var g=e.split('['),k=g.length,l=k-1;f(g,d,'base',j)}else{if(!c.test(e)&&a(d.base)){var h={};for(var i in d.base)h[i]=d.base[i];d.base=h}t(d.base,e,j)}return d}function o(b){var a={base:{}};return j(d(b),function(c){k(a,c,b[c])}),a.base}function p(a){return m(String(a).split('&'),function(g,c){var e=b(c,'='),f=n(c),d=c.substr(0,f||e),a=c.substr(f||e,c.length),a=a.substr(b(a,'=')+1,a.length);return''==d&&(d=c,a=''),''==d?g:k(g,h(d),h(a))},{base:{}}).base}function q(b,a){if(!a)throw new TypeError('stringify expects an object');return a+'='+encodeURIComponent(b)}function r(c,d){var b=[];if(!d)throw new TypeError('stringify expects an object');for(var a=0;a<c.length;a++)b.push(e(c[a],d+'['+a+']'));return b.join('&')}function s(f,h){var b=[],g=d(f),a;for(var c=0,i=g.length;c<i;++c)a=g[c],null==f[a]?b.push(encodeURIComponent(a)+'='):b.push(e(f[a],h?h+'['+encodeURIComponent(a)+']':encodeURIComponent(a)));return b.join('&')}function t(c,d,e){var b=c[d];undefined===b?c[d]=e:a(b)?b.push(e):c[d]=[b,e]}function n(d){var e=d.length,c,b;for(var a=0;a<e;++a)if(b=d[a],']'==b&&(c=!1),'['==b&&(c=!0),'='==b&&!c)return a}function h(a){try{return decodeURIComponent(a.replace(/\+/g,' '))}catch(b){return a}}var g=Object.prototype.toString,b=typeof Array.prototype.indexOf==='function'?function(a,b){return a.indexOf(b)}:function(b,c){for(var a=0;a<b.length;a++)if(b[a]===c)return a;return-1},a=Array.isArray||function(a){return g.call(a)=='[object Array]'},d=Object.keys||function(c){var a=[];for(var b in c)a.push(b);return a},j=typeof Array.prototype.forEach==='function'?function(a,b){return a.forEach(b)}:function(b,c){for(var a=0;a<b.length;a++)c(b[a])},m=function(a,d,e){if(typeof a.reduce==='function')return a.reduce(d,e);var b=e;for(var c=0;c<a.length;c++)b=d(b,a[c]);return b},c=/^[0-9]+$/;l.parse=function(a){return null==a||''==a?{}:'object'==typeof a?o(a):p(a)};var e=l.stringify=function(b,c){return a(b)?r(b,c):'[object Object]'==g.call(b)?s(b,c):'string'==typeof b?q(b,c):c+'='+encodeURIComponent(String(b))}},{}],10:[function(c,e,f){function a(){b.EventEmitter.call(this)}var b=c('events'),d=c('util');d.inherits(a,b.EventEmitter),e.exports=a,a.Stream=a,a.prototype.pipe=function(a,h){function i(c){a.writable&&!1===a.write(c)&&b.pause&&b.pause()}function j(){b.readable&&b.resume&&b.resume()}function f(){if(d)return;if(d=!0,a._pipeCount--,c(),a._pipeCount>0)return;a.end()}function g(){if(d)return;if(d=!0,a._pipeCount--,c(),a._pipeCount>0)return;a.destroy()}function e(a){if(c(),this.listeners('error').length===0)throw a}function c(){b.removeListener('data',i),a.removeListener('drain',j),b.removeListener('end',f),b.removeListener('close',g),b.removeListener('error',e),a.removeListener('error',e),b.removeListener('end',c),b.removeListener('close',c),a.removeListener('end',c),a.removeListener('close',c)}var b=this;b.on('data',i),a.on('drain',j),!a._isStdio&&(!h||h.end!==!1)&&(a._pipeCount=a._pipeCount||0,a._pipeCount++,b.on('end',f),b.on('close',g));var d=!1;return b.on('error',e),a.on('error',e),b.on('end',c),b.on('close',c),a.on('end',c),a.on('close',c),a.emit('pipe',b),a}},{events:7,util:12}],11:[function(v,y,g){function b(b,d){for(var a=0,c=b.length;a<c;a++)if(b[a]==d)return a;return-1}function h(x,X,Y){if(x&&typeof x==='object'&&x.href)return x;if(typeof x!=='string')throw new TypeError("Parameter 'url' must be a string, not "+typeof x);var g={},o=x;for(var h=0,p=o.length;h<p;h++)if(b(d,o.charAt(h))===-1)break;h!==0&&(o=o.substr(h));var s=u.exec(o);if(s){s=s[0];var M=s.toLowerCase();g.protocol=M,o=o.substr(s.length)}if(Y||s||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var Q=o.substr(0,2)==='//';Q&&!(s&&f[s])&&(o=o.substr(2),g.slashes=!0)}if(!f[s]&&(Q||s&&!c[s])){var A=b(o,'@');if(A!==-1){var U=!0;for(var h=0,p=e.length;h<p;h++){var v=b(o,e[h]);if(v!==-1&&v<A){U=!1;break}}U&&(g.auth=o.substr(0,A),o=o.substr(A+1))}var y=-1;for(var h=0,p=k.length;h<p;h++){var v=b(o,k[h]);v!==-1&&(y<0||v<y)&&(y=v)}y!==-1?(g.host=o.substr(0,y),o=o.substr(y)):(g.host=o,o='');var N=w(g.host),P=j(N);for(var h=0,p=P.length;h<p;h++){var V=P[h];g[V]=N[V]}if(g.hostname=g.hostname||'',g.hostname.length>t)g.hostname='';else{var C=g.hostname.split(/\./);for(var h=0,p=C.length;h<p;h++){var z=C[h];if(!z)continue;if(!z.match(m)){var F='';for(var E=0,W=z.length;E<W;E++)z.charCodeAt(E)>127?F+='x':F+=z[E];if(!F.match(m)){var O=C.slice(0,h),H=C.slice(h+1),I=z.match(n);I&&(O.push(I[1]),H.unshift(I[2])),H.length&&(o='/'+H.join('.')+o),g.hostname=O.join('.');break}}}}g.hostname=g.hostname.toLowerCase();var R=g.hostname.split('.'),S=[];for(var h=0;h<R.length;++h){var J=R[h];S.push(J.match(/[^A-Za-z0-9_-]/)?'xn--'+r.encode(J):J)}g.hostname=S.join('.'),g.host=(g.hostname||'')+(g.port?':'+g.port:''),g.href+=g.host}if(!q[M]){for(var h=0,p=i.length;h<p;h++){var B=i[h],L=encodeURIComponent(B);L===B&&(L=escape(B)),o=o.split(B).join(L)}var G=o.length;for(var h=0,p=d.length;h<p;h++){var T=b(o,d[h]);T!==-1&&(G=Math.min(T,G))}o=o.substr(0,G)}var K=b(o,'#');K!==-1&&(g.hash=o.substr(K),o=o.slice(0,K));var D=b(o,'?');return D!==-1?(g.search=o.substr(D),g.query=o.substr(D+1),X&&(g.query=l.parse(g.query)),o=o.slice(0,D)):X&&(g.search='',g.query={}),o&&(g.pathname=o),c[s]&&g.hostname&&!g.pathname&&(g.pathname='/'),(g.pathname||g.search)&&(g.path=(g.pathname?g.pathname:'')+(g.search?g.search:'')),g.href=a(g),g}function a(a){typeof a==='string'&&(a=h(a));var b=a.auth||'';if(b){b=b.split('@').join('%40');for(var m=0,p=e.length;m<p;m++){var n=e[m];b=b.split(n).join(encodeURIComponent(n))}b+='@'}var d=a.protocol||'',f=a.host!==undefined?b+a.host:a.hostname!==undefined?b+a.hostname+(a.port?':'+a.port:''):!1,g=a.pathname||'',o=a.query&&(typeof a.query==='object'&&j(a.query).length?l.stringify(a.query):'')||'',k=a.search||o&&'?'+o||'',i=a.hash||'';return d&&d.substr(-1)!==':'&&(d+=':'),a.slashes||(!d||c[d])&&f!==!1?(f='//'+(f||''),g&&g.charAt(0)!=='/'&&(g='/'+g)):f||(f=''),i&&i.charAt(0)!=='#'&&(i='#'+i),k&&k.charAt(0)!=='?'&&(k='?'+k),d+f+g+k+i}function x(b,c){return a(o(b,c))}function o(d,e){if(!d)return e;if(d=h(a(d),!1,!0),e=h(a(e),!1,!0),d.hash=e.hash,e.href==='')return d.href=a(d),d;if(e.slashes&&!e.protocol)return e.protocol=d.protocol,c[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname='/'),e.href=a(e),e;if(e.protocol&&e.protocol!==d.protocol){if(!c[e.protocol])return e.href=a(e),e;if(d.protocol=e.protocol,!(e.host||f[e.protocol])){var i=(e.pathname||'').split('/');while(i.length&&!(e.host=i.shift()));e.host||(e.host=''),e.hostname||(e.hostname=''),i[0]!==''&&i.unshift(''),i.length<2&&i.unshift(''),e.pathname=i.join('/')}return d.pathname=e.pathname,d.search=e.search,d.query=e.query,d.host=e.host||'',d.auth=e.auth,d.hostname=e.hostname||e.host,d.port=e.port,(d.pathname!==undefined||d.search!==undefined)&&(d.path=(d.pathname?d.pathname:'')+(d.search?d.search:'')),d.slashes=d.slashes||e.slashes,d.href=a(d),d}var t=d.pathname&&d.pathname.charAt(0)==='/',q=e.host!==undefined||e.pathname&&e.pathname.charAt(0)==='/',j=q||t||d.host&&e.pathname,s=j,g=d.pathname&&d.pathname.split('/')||[],i=e.pathname&&e.pathname.split('/')||[],o=d.protocol&&!c[d.protocol];if(o&&(delete d.hostname,delete d.port,d.host&&(g[0]===''?g[0]=d.host:g.unshift(d.host)),delete d.host,e.protocol&&(delete e.hostname,delete e.port,e.host&&(i[0]===''?i[0]=e.host:i.unshift(e.host)),delete e.host),j=j&&(i[0]===''||g[0]==='')),q)d.host=e.host||e.host===''?e.host:d.host,d.hostname=e.hostname||e.hostname===''?e.hostname:d.hostname,d.search=e.search,d.query=e.query,g=i;else if(i.length)g||(g=[]),g.pop(),g=g.concat(i),d.search=e.search,d.query=e.query;else if('search'in e){if(o){d.hostname=d.host=g.shift();var k=d.host&&b(d.host,'@')>0?d.host.split('@'):!1;k&&(d.auth=k.shift(),d.host=d.hostname=k.shift())}return d.search=e.search,d.query=e.query,(d.pathname!==undefined||d.search!==undefined)&&(d.path=(d.pathname?d.pathname:'')+(d.search?d.search:'')),d.href=a(d),d}if(!g.length)return delete d.pathname,d.search?delete d.path:d.path='/'+d.search,d.href=a(d),d;var m=g.slice(-1)[0],r=(d.host||e.host)&&(m==='.'||m==='..')||m==='',n=0;for(var l=g.length;l>=0;l--)m=g[l],m=='.'?g.splice(l,1):m==='..'?(g.splice(l,1),n++):n&&(g.splice(l,1),n--);if(!(j||s))for(;n--;n)g.unshift('..');j&&g[0]!==''&&(!g[0]||g[0].charAt(0)!=='/')&&g.unshift(''),r&&g.join('/').substr(-1)!=='/'&&g.push('');var p=g[0]===''||g[0]&&g[0].charAt(0)==='/';if(o){d.hostname=d.host=p?'':g.length?g.shift():'';var k=d.host&&b(d.host,'@')>0?d.host.split('@'):!1;k&&(d.auth=k.shift(),d.host=d.hostname=k.shift())}return j=j||d.host&&g.length,j&&!p&&g.unshift(''),d.pathname=g.join('/'),(d.pathname!==undefined||d.search!==undefined)&&(d.path=(d.pathname?d.pathname:'')+(d.search?d.search:'')),d.auth=e.auth||d.auth,d.slashes=d.slashes||e.slashes,d.href=a(d),d}function w(a){var c={},b=s.exec(a);return b&&(b=b[0],c.port=b.substr(1),a=a.substr(0,a.length-b.length)),a&&(c.hostname=a),c}var r={encode:function(a){return a}};g.parse=h,g.resolve=x,g.resolveObject=o,g.format=a;var j=Object.keys||function a(a){if(a!==Object(a))throw new TypeError('Invalid object');var b=[];for(var c in a)a.hasOwnProperty(c)&&(b[b.length]=c);return b},u=/^([a-z0-9.+-]+:)/i,s=/:[0-9]+$/,d=['<','>','"','`',' ','\r','\n','	'],p=['{','}','|','\\','^','~','[',']','`'].concat(d),i=["'"],k=['%','/','?',';','#'].concat(p).concat(i),e=['/','@','?','#'].concat(d),t=255,m=/^[a-zA-Z0-9][a-z0-9A-Z_-]{0,62}$/,n=/^([a-zA-Z0-9][a-z0-9A-Z_-]{0,62})(.*)$/,q={javascript:!0,'javascript:':!0},f={javascript:!0,'javascript:':!0},c={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,'http:':!0,'https:':!0,'ftp:':!0,'gopher:':!0,'file:':!0},l=v('querystring')},{querystring:9}],12:[function(j,k,a){function b(a){return Array.isArray(a)||typeof a==='object'&&Object.prototype.toString.call(a)==='[object Array]'}function c(a){typeof a==='object'&&Object.prototype.toString.call(a)==='[object RegExp]'}function d(a){return typeof a==='object'&&Object.prototype.toString.call(a)==='[object Date]'}var i=j('events');a.isArray=b,a.isDate=function(a){return Object.prototype.toString.call(a)==='[object Date]'},a.isRegExp=function(a){return Object.prototype.toString.call(a)==='[object RegExp]'},a.print=function(){},a.puts=function(){},a.debug=function(){},a.inspect=function(k,l,j,m){function i(j,p){if(j&&typeof j.inspect==='function'&&j!==a&&!(j.constructor&&j.constructor.prototype===j))return j.inspect(p);switch(typeof j){case'undefined':return e('undefined','undefined');case'string':var w="'"+JSON.stringify(j).replace(/^"|"$/g,'').replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e(w,'string');case'number':return e(''+j,'number');case'boolean':return e(''+j,'boolean')}if(j===null)return e('null','null');var q=h(j),o=l?g(j):q;if(typeof j==='function'&&o.length===0)if(c(j))return e(''+j,'regexp');else{var t=j.name?': '+j.name:'';return e('[Function'+t+']','special')}if(d(j)&&o.length===0)return e(j.toUTCString(),'date');var m,r,k;if(b(j)?(r='Array',k=['[',']']):(r='Object',k=['{','}']),typeof j==='function'){var u=j.name?': '+j.name:'';m=c(j)?' '+j:' [Function'+u+']'}else m='';if(d(j)&&(m=' '+j.toUTCString()),o.length===0)return k[0]+m+k[1];if(p<0)return c(j)?e(''+j,'regexp'):e('[Object]','special');f.push(j);var n=o.map(function(d){var a,c;if(j.__lookupGetter__&&(j.__lookupGetter__(d)?j.__lookupSetter__(d)?c=e('[Getter/Setter]','special'):c=e('[Getter]','special'):j.__lookupSetter__(d)&&(c=e('[Setter]','special'))),q.indexOf(d)<0&&(a='['+d+']'),c||(f.indexOf(j[d])<0?(p===null?c=i(j[d]):c=i(j[d],p-1),c.indexOf('\n')>-1&&(b(j)?c=c.split('\n').map(function(a){return'  '+a}).join('\n').substr(2):c='\n'+c.split('\n').map(function(a){return'   '+a}).join('\n'))):c=e('[Circular]','special')),a===void 0){if(r==='Array'&&d.match(/^\d+$/))return c;a=JSON.stringify(''+d),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e(a,'name')):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e(a,'string'))}return a+': '+c});f.pop();var s=0,v=n.reduce(function(b,a){return s++,a.indexOf('\n')>=0&&s++,b+a.length+1},0);return v>50?n=k[0]+(m===''?'':m+'\n ')+' '+n.join(',\n  ')+' '+k[1]:n=k[0]+m+' '+n.join(', ')+' '+k[1],n}var f=[],e=function(c,d){var b={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a={special:'cyan',number:'blue',boolean:'yellow',undefined:'grey',null:'bold',string:'green',date:'magenta',regexp:'red'}[d];return a?'['+b[a][0]+'m'+c+'['+b[a][1]+'m':c};return m||(e=function(a,b){return a}),i(k,j===void 0?2:j)},a.log=function(a){},a.pump=null;var h=Object.keys||function(c){var a=[];for(var b in c)a.push(b);return a},g=Object.getOwnPropertyNames||function(c){var a=[];for(var b in c)Object.hasOwnProperty.call(c,b)&&a.push(b);return a},e=Object.create||function(a,d){var b;if(a===null)b={__proto__:null};else{if(typeof a!=='object')throw new TypeError('typeof prototype['+typeof a+"] != 'object'");var c=function(){};c.prototype=a,b=new c,b.__proto__=a}return d!==void 0&&Object.defineProperties&&Object.defineProperties(b,d),b};a.inherits=function(a,b){a.super_=b,a.prototype=e(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})};var f=/%[sdj%]/g;a.format=function(i){if(typeof i!=='string'){var g=[];for(var b=0;b<arguments.length;b++)g.push(a.inspect(arguments[b]));return g.join(' ')}var b=1,c=arguments,h=c.length,e=String(i).replace(f,function(a){if(a==='%%')return'%';if(b>=h)return a;switch(a){case'%s':return String(c[b++]);case'%d':return Number(c[b++]);case'%j':return JSON.stringify(c[b++]);default:return a}});for(var d=c[b];b<h;d=c[++b])d===null||typeof d!=='object'?e+=' '+d:e+=' '+a.inspect(d);return e}},{events:7}],13:[function(a,b,c){a=function(e,b,c,f,a){function d(a){if(!c[a]){if(!b[a]){if(e)return e(a);throw new Error("Cannot find module '"+a+"'")}var f=c[a]={exports:{}};b[a][0](function(e){var c=b[a][1][e];return d(c?c:e)},f,f.exports)}return c[a].exports}for(a=0;a<f.length;a++)d(f[a]);return d}(a!==void 0&&a,{1:[function(j,q,r){function h(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}function l(b,a){return a===undefined?''+a:typeof a==='number'&&(isNaN(a)||!isFinite(a))?a.toString():typeof a==='function'||a instanceof RegExp?a.toString():a}function g(a,b){return typeof a=='string'?a.length<b?a:a.slice(0,b):a}function b(b,c,d,e,f){throw new a.AssertionError({message:d,actual:b,expected:c,operator:e,stackStartFunction:f})}function i(c,d){c||b(c,!0,d,'==',a.ok)}function d(a,b){if(a===b)return!0;else if(e.isBuffer(a)&&e.isBuffer(b)){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}else return a instanceof Date&&b instanceof Date?a.getTime()===b.getTime():typeof a!='object'&&typeof b!='object'?a==b:p(a,b)}function k(a){return a===null||a===undefined}function f(a){return Object.prototype.toString.call(a)=='[object Arguments]'}function p(b,e){if(k(b)||k(e))return!1;if(b.prototype!==e.prototype)return!1;if(f(b))return f(e)?(b=c.call(b),e=c.call(e),d(b,e)):!1;try{var g=h(b),i=h(e),j,a}catch(a){return!1}if(g.length!=i.length)return!1;for(g.sort(),i.sort(),a=g.length-1;a>=0;a--)if(g[a]!=i[a])return!1;for(a=g.length-1;a>=0;a--)if(j=g[a],!d(b[j],e[j]))return!1;return!0}function n(b,a){return b&&a?a instanceof RegExp?a.test(b):b instanceof a?!0:a.call({},b)===!0?!0:!1:!1}function o(e,f,a,d){var c;typeof a==='string'&&(d=a,a=null);try{f()}catch(a){c=a}if(d=(a&&a.name?' ('+a.name+').':'.')+(d?' '+d:'.'),e&&!c&&b('Missing expected exception'+d),!e&&n(c,a)&&b('Got unwanted exception'+d),e&&c&&a&&!n(c,a)||!e&&c)throw c}var m=j('util'),e=j('buffer').Buffer,c=Array.prototype.slice,a=q.exports=i;a.AssertionError=function a(a){this.name='AssertionError',this.message=a.message,this.actual=a.actual,this.expected=a.expected,this.operator=a.operator;var c=a.stackStartFunction||b;Error.captureStackTrace&&Error.captureStackTrace(this,c)},m.inherits(a.AssertionError,Error),a.AssertionError.prototype.toString=function(){return this.message?[this.name+':',this.message].join(' '):[this.name+':',g(JSON.stringify(this.actual,l),128),this.operator,g(JSON.stringify(this.expected,l),128)].join(' ')},a.AssertionError.__proto__=Error.prototype,a.fail=b,a.ok=i,a.equal=function c(c,d,e){c!=d&&b(c,d,e,'==',a.equal)},a.notEqual=function c(c,d,e){c==d&&b(c,d,e,'!=',a.notEqual)},a.deepEqual=function c(c,e,f){d(c,e)||b(c,e,f,'deepEqual',a.deepEqual)},a.notDeepEqual=function c(c,e,f){d(c,e)&&b(c,e,f,'notDeepEqual',a.notDeepEqual)},a.strictEqual=function c(c,d,e){c!==d&&b(c,d,e,'===',a.strictEqual)},a.notStrictEqual=function c(c,d,e){c===d&&b(c,d,e,'!==',a.notStrictEqual)},a.throws=function(a,b,d){o.apply(this,[!0].concat(c.call(arguments)))},a.doesNotThrow=function(a,b,d){o.apply(this,[!1].concat(c.call(arguments)))},a.ifError=function(a){if(a)throw a}},{util:2,buffer:3}],2:[function(j,k,a){function b(a){return a instanceof Array||Array.isArray(a)||a&&a!==Object.prototype&&b(a.__proto__)}function d(a){return a instanceof RegExp||typeof a==='object'&&Object.prototype.toString.call(a)==='[object RegExp]'}function e(a){if(a instanceof Date)return!0;if(typeof a!=='object')return!1;var b=Date.prototype&&c(Date.prototype),d=a.__proto__&&c(a.__proto__);return JSON.stringify(d)===JSON.stringify(b)}var i=j('events');a.isArray=b,a.isDate=function(a){return Object.prototype.toString.call(a)==='[object Date]'},a.isRegExp=function(a){return Object.prototype.toString.call(a)==='[object RegExp]'},a.print=function(){},a.puts=function(){},a.debug=function(){},a.inspect=function(k,l,j,m){function i(j,p){if(j&&typeof j.inspect==='function'&&j!==a&&!(j.constructor&&j.constructor.prototype===j))return j.inspect(p);switch(typeof j){case'undefined':return f('undefined','undefined');case'string':var w="'"+JSON.stringify(j).replace(/^"|"$/g,'').replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return f(w,'string');case'number':return f(''+j,'number');case'boolean':return f(''+j,'boolean')}if(j===null)return f('null','null');var q=h(j),o=l?c(j):q;if(typeof j==='function'&&o.length===0)if(d(j))return f(''+j,'regexp');else{var t=j.name?': '+j.name:'';return f('[Function'+t+']','special')}if(e(j)&&o.length===0)return f(j.toUTCString(),'date');var m,r,k;if(b(j)?(r='Array',k=['[',']']):(r='Object',k=['{','}']),typeof j==='function'){var u=j.name?': '+j.name:'';m=d(j)?' '+j:' [Function'+u+']'}else m='';if(e(j)&&(m=' '+j.toUTCString()),o.length===0)return k[0]+m+k[1];if(p<0)return d(j)?f(''+j,'regexp'):f('[Object]','special');g.push(j);var n=o.map(function(d){var a,c;if(j.__lookupGetter__&&(j.__lookupGetter__(d)?j.__lookupSetter__(d)?c=f('[Getter/Setter]','special'):c=f('[Getter]','special'):j.__lookupSetter__(d)&&(c=f('[Setter]','special'))),q.indexOf(d)<0&&(a='['+d+']'),c||(g.indexOf(j[d])<0?(p===null?c=i(j[d]):c=i(j[d],p-1),c.indexOf('\n')>-1&&(b(j)?c=c.split('\n').map(function(a){return'  '+a}).join('\n').substr(2):c='\n'+c.split('\n').map(function(a){return'   '+a}).join('\n'))):c=f('[Circular]','special')),a===void 0){if(r==='Array'&&d.match(/^\d+$/))return c;a=JSON.stringify(''+d),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=f(a,'name')):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=f(a,'string'))}return a+': '+c});g.pop();var s=0,v=n.reduce(function(b,a){return s++,a.indexOf('\n')>=0&&s++,b+a.length+1},0);return v>50?n=k[0]+(m===''?'':m+'\n ')+' '+n.join(',\n  ')+' '+k[1]:n=k[0]+m+' '+n.join(', ')+' '+k[1],n}var g=[],f=function(c,d){var b={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a={special:'cyan',number:'blue',boolean:'yellow',undefined:'grey',null:'bold',string:'green',date:'magenta',regexp:'red'}[d];return a?'['+b[a][0]+'m'+c+'['+b[a][1]+'m':c};return m||(f=function(a,b){return a}),i(k,j===void 0?2:j)},a.log=function(a){},a.pump=null;var h=Object.keys||function(c){var a=[];for(var b in c)a.push(b);return a},c=Object.getOwnPropertyNames||function(c){var a=[];for(var b in c)Object.hasOwnProperty.call(c,b)&&a.push(b);return a},g=Object.create||function(a,d){var b;if(a===null)b={__proto__:null};else{if(typeof a!=='object')throw new TypeError('typeof prototype['+typeof a+"] != 'object'");var c=function(){};c.prototype=a,b=new c,b.__proto__=a}return d!==void 0&&Object.defineProperties&&Object.defineProperties(b,d),b};a.inherits=function(a,b){a.super_=b,a.prototype=g(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})};var f=/%[sdj%]/g;a.format=function(i){if(typeof i!=='string'){var g=[];for(var b=0;b<arguments.length;b++)g.push(a.inspect(arguments[b]));return g.join(' ')}var b=1,c=arguments,h=c.length,e=String(i).replace(f,function(a){if(a==='%%')return'%';if(b>=h)return a;switch(a){case'%s':return String(c[b++]);case'%d':return Number(c[b++]);case'%j':return JSON.stringify(c[b++]);default:return a}});for(var d=c[b];b<h;d=c[++b])d===null||typeof d!=='object'?e+=' '+d:e+=' '+a.inspect(d);return e}},{events:4}],5:[function(b,c,a){a.readIEEE754=function(h,l,n,f,m){var b,d,i=m*8-f-1,j=(1<<i)-1,k=j>>1,a=-7,c=n?0:m-1,g=n?1:-1,e=h[l+c];for(c+=g,b=e&(1<<-a)-1,e>>=-a,a+=i;a>0;b=b*256+h[l+c],c+=g,a-=8);for(d=b&(1<<-a)-1,b>>=-a,a+=f;a>0;d=d*256+h[l+c],c+=g,a-=8);if(b===0)b=1-k;else if(b===j)return d?NaN:(e?-1:1)*Infinity;else d+=Math.pow(2,f),b-=k;return(e?-1:1)*d*Math.pow(2,b-f)},a.writeIEEE754=function(k,b,m,n,c,p){var a,d,f,h=p*8-c-1,i=(1<<h)-1,e=i>>1,l=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?p-1:0,j=n?-1:1,o=b<0||b===0&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===Infinity?(d=isNaN(b)?1:0,a=i):(a=Math.floor(Math.log(b)/Math.LN2),b*(f=Math.pow(2,-a))<1&&(a--,f*=2),a+e>=1?b+=l/f:b+=l*Math.pow(2,1-e),b*f>=2&&(a++,f/=2),a+e>=i?(d=0,a=i):a+e>=1?(d=(b*f-1)*Math.pow(2,c),a+=e):(d=b*Math.pow(2,e-1)*Math.pow(2,c),a=0));c>=8;k[m+g]=d&255,g+=j,d/=256,c-=8);for(a=a<<c|d,h+=c;h>0;k[m+g]=a&255,g+=j,a/=256,h-=8);k[m+g-j]|=o*128}},{}],6:[function(c,b,d){var a=b.exports={};a.nextTick=function(b,c,a){return b=typeof window!=='undefined'&&window.setImmediate,c=typeof window!=='undefined'&&window.postMessage&&window.addEventListener,b?function(a){return window.setImmediate(a)}:c?(a=[],window.addEventListener('message',function(b){if(b.source===window&&b.data==='process-tick'&&(b.stopPropagation(),a.length>0)){var c=a.shift();c()}},!0),function b(b){a.push(b),window.postMessage('process-tick','*')}):function a(a){setTimeout(a,0)}}(),a.title='browser',a.browser=!0,a.env={},a.argv=[],a.binding=function(a){throw new Error('process.binding is not supported')},a.cwd=function(){return'/'},a.chdir=function(a){throw new Error('process.chdir is not supported')}},{}],4:[function(a,c,b){!function(d,a,c,e){function f(b,c){if(b.indexOf)return b.indexOf(c);for(var a=0;a<b.length;a++)if(c===b[a])return a;return-1}d.EventEmitter||(d.EventEmitter=function(){}),a=b.EventEmitter=d.EventEmitter,c=typeof Array.isArray==='function'?Array.isArray:function(a){return Object.prototype.toString.call(a)==='[object Array]'},e=10,a.prototype.setMaxListeners=function(a){this._events||(this._events={}),this._events.maxListeners=a},a.prototype.emit=function(f){if(f==='error'&&(!(this._events&&this._events.error)||c(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var a=this._events[f];if(!a)return!1;if(!(typeof a=='function'))if(c(a)){var b=Array.prototype.slice.call(arguments,1),e=a.slice();for(var d=0,g=e.length;d<g;d++)e[d].apply(this,b);return!0}else return!1;switch(arguments.length){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:var b=Array.prototype.slice.call(arguments,1);a.apply(this,b)}return!0},a.prototype.addListener=function(a,b){if('function'!==typeof b)throw new Error('addListener only takes instances of Function');if(this._events||(this._events={}),this.emit('newListener',a,b),!this._events[a])this._events[a]=b;else if(c(this._events[a])){if(!this._events[a].warned){var d;this._events.maxListeners!==undefined?d=this._events.maxListeners:d=e,d&&d>0&&this._events[a].length>d&&(this._events[a].warned=!0,console.error('(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.',this._events[a].length),console.trace())}this._events[a].push(b)}else this._events[a]=[this._events[a],b];return this},a.prototype.on=a.prototype.addListener,a.prototype.once=function(b,c){var a=this;return a.on(b,function d(){a.removeListener(b,d),c.apply(this,arguments)}),this},a.prototype.removeListener=function(a,d){if('function'!==typeof d)throw new Error('removeListener only takes instances of Function');if(!(this._events&&this._events[a]))return this;var b=this._events[a];if(c(b)){var e=f(b,d);if(e<0)return this;b.splice(e,1),b.length==0&&delete this._events[a]}else this._events[a]===d&&delete this._events[a];return this},a.prototype.removeAllListeners=function(a){return arguments.length===0?(this._events={},this):(a&&this._events&&this._events[a]&&(this._events[a]=null),this)},a.prototype.listeners=function(a){return this._events||(this._events={}),this._events[a]||(this._events[a]=[]),c(this._events[a])||(this._events[a]=[this._events[a]]),this._events[a]}}(a('__browserify_process'))},{__browserify_process:6}],'buffer-browserify':[function(a,b,c){b.exports=a('q9TxCC')},{}],q9TxCC:[function(e,E,f){function c(a){this.length=a}function i(a){return a<16?'0'+a.toString(16):a.toString(16)}function w(b){var c=[];for(var a=0;a<b.length;a++)if(b.charCodeAt(a)<=127)c.push(b.charCodeAt(a));else{var e=encodeURIComponent(b.charAt(a)).substr(1).split('%');for(var d=0;d<e.length;d++)c.push(parseInt(e[d],16))}return c}function B(c){var b=[];for(var a=0;a<c.length;a++)b.push(c.charCodeAt(a)&255);return b}function p(a){return e('base64-js').toByteArray(a)}function j(b,c,d,e){var a=0;while(a<e){if(a+d>=c.length||a>=b.length)break;c[a+d]=b[a],a++}return a}function u(a){try{return decodeURIComponent(a)}catch(a){return String.fromCharCode(65533)}}function l(a){return a=~~Math.ceil(+a),a<0?0:a}function a(b,f,g){if(!(this instanceof a))return new a(b,f,g);var h;if(typeof g==='number')this.length=l(f),this.parent=b,this.offset=g;else{switch(h=typeof b){case'number':this.length=l(b);break;case'string':this.length=a.byteLength(b,f);break;case'object':this.length=l(b.length);break;default:throw new Error('First argument needs to be a number, array or string.')}if(this.length>a.poolSize?(this.parent=new c(this.length),this.offset=0):((!d||d.length-d.used<this.length)&&C(),this.parent=d,this.offset=d.used,d.used+=this.length),D(b))for(var e=0;e<this.length;e++)b instanceof a?this.parent[e+this.offset]=b.readUInt8(e):this.parent[e+this.offset]=b[e];else h=='string'&&(this.length=this.write(b,0,f))}}function D(b){return Array.isArray(b)||a.isBuffer(b)||b&&typeof b==='object'&&typeof b.length==='number'}function C(){d=new c(a.poolSize),d.used=0}function o(a,c,e,f){var d=0;return f||(b.ok(typeof e==='boolean','missing or invalid endian'),b.ok(c!==undefined&&c!==null,'missing offset'),b.ok(c+1<a.length,'Trying to read beyond buffer length')),c>=a.length?0:(e?(d=a.parent[a.offset+c]<<8,c+1<a.length&&(d|=a.parent[a.offset+c+1])):(d=a.parent[a.offset+c],c+1<a.length&&(d|=a.parent[a.offset+c+1]<<8)),d)}function n(a,c,e,f){var d=0;return f||(b.ok(typeof e==='boolean','missing or invalid endian'),b.ok(c!==undefined&&c!==null,'missing offset'),b.ok(c+3<a.length,'Trying to read beyond buffer length')),c>=a.length?0:(e?(c+1<a.length&&(d=a.parent[a.offset+c+1]<<16),c+2<a.length&&(d|=a.parent[a.offset+c+2]<<8),c+3<a.length&&(d|=a.parent[a.offset+c+3]),d+=a.parent[a.offset+c]<<24>>>0):(c+2<a.length&&(d=a.parent[a.offset+c+2]<<16),c+1<a.length&&(d|=a.parent[a.offset+c+1]<<8),d|=a.parent[a.offset+c],c+3<a.length&&(d+=a.parent[a.offset+c+3]<<24>>>0)),d)}function v(d,a,e,f){var g,c;return f||(b.ok(typeof e==='boolean','missing or invalid endian'),b.ok(a!==undefined&&a!==null,'missing offset'),b.ok(a+1<d.length,'Trying to read beyond buffer length')),c=o(d,a,e,f),g=c&32768,g?(65535-c+1)*-1:c}function r(d,a,e,f){var g,c;return f||(b.ok(typeof e==='boolean','missing or invalid endian'),b.ok(a!==undefined&&a!==null,'missing offset'),b.ok(a+3<d.length,'Trying to read beyond buffer length')),c=n(d,a,e,f),g=c&2147483648,g?(4294967295-c+1)*-1:c}function s(a,c,d,f){return f||(b.ok(typeof d==='boolean','missing or invalid endian'),b.ok(c+3<a.length,'Trying to read beyond buffer length')),e('./buffer_ieee754').readIEEE754(a,c,d,23,4)}function t(a,c,d,f){return f||(b.ok(typeof d==='boolean','missing or invalid endian'),b.ok(c+7<a.length,'Trying to read beyond buffer length')),e('./buffer_ieee754').readIEEE754(a,c,d,52,8)}function k(a,c){b.ok(typeof a=='number','cannot write a non-number as a number'),b.ok(a>=0,'specified a negative value for writing an unsigned value'),b.ok(a<=c,'value is larger than maximum value for type'),b.ok(Math.floor(a)===a,'value has a fractional component')}function h(d,e,c,f,g){g||(b.ok(e!==undefined&&e!==null,'missing value'),b.ok(typeof f==='boolean','missing or invalid endian'),b.ok(c!==undefined&&c!==null,'missing offset'),b.ok(c+1<d.length,'trying to write beyond buffer length'),k(e,65535));for(var a=0;a<Math.min(d.length-c,2);a++)d.parent[d.offset+c+a]=(e&255<<8*(f?1-a:a))>>>(f?1-a:a)*8}function g(d,e,c,f,g){g||(b.ok(e!==undefined&&e!==null,'missing value'),b.ok(typeof f==='boolean','missing or invalid endian'),b.ok(c!==undefined&&c!==null,'missing offset'),b.ok(c+3<d.length,'trying to write beyond buffer length'),k(e,4294967295));for(var a=0;a<Math.min(d.length-c,4);a++)d.parent[d.offset+c+a]=e>>>(f?3-a:a)*8&255}function m(a,c,d){b.ok(typeof a=='number','cannot write a non-number as a number'),b.ok(a<=c,'value larger than maximum allowed value'),b.ok(a>=d,'value smaller than minimum allowed value'),b.ok(Math.floor(a)===a,'value has a fractional component')}function x(a,c,d){b.ok(typeof a=='number','cannot write a non-number as a number'),b.ok(a<=c,'value larger than maximum allowed value'),b.ok(a>=d,'value smaller than minimum allowed value')}function y(d,a,c,e,f){f||(b.ok(a!==undefined&&a!==null,'missing value'),b.ok(typeof e==='boolean','missing or invalid endian'),b.ok(c!==undefined&&c!==null,'missing offset'),b.ok(c+1<d.length,'Trying to write beyond buffer length'),m(a,32767,-32768)),a>=0?h(d,a,c,e,f):h(d,65535+a+1,c,e,f)}function z(d,a,c,e,f){f||(b.ok(a!==undefined&&a!==null,'missing value'),b.ok(typeof e==='boolean','missing or invalid endian'),b.ok(c!==undefined&&c!==null,'missing offset'),b.ok(c+3<d.length,'Trying to write beyond buffer length'),m(a,2147483647,-2147483648)),a>=0?g(d,a,c,e,f):g(d,4294967295+a+1,c,e,f)}function A(d,a,c,f,g){g||(b.ok(a!==undefined&&a!==null,'missing value'),b.ok(typeof f==='boolean','missing or invalid endian'),b.ok(c!==undefined&&c!==null,'missing offset'),b.ok(c+3<d.length,'Trying to write beyond buffer length'),x(a,3.4028234663852886e38,-3.4028234663852886e38)),e('./buffer_ieee754').writeIEEE754(d,a,c,f,23,4)}function q(d,a,c,f,g){g||(b.ok(a!==undefined&&a!==null,'missing value'),b.ok(typeof f==='boolean','missing or invalid endian'),b.ok(c!==undefined&&c!==null,'missing offset'),b.ok(c+7<d.length,'Trying to write beyond buffer length'),x(a,1.7976931348623157e308,-1.7976931348623157e308)),e('./buffer_ieee754').writeIEEE754(d,a,c,f,52,8)}var b=e('assert');f.INSPECT_MAX_BYTES=50,c.byteLength=function(a,b){switch(b||'utf8'){case'hex':return a.length/2;case'utf8':case'utf-8':return w(a).length;case'ascii':case'binary':return a.length;case'base64':return p(a).length;default:throw new Error('Unknown encoding')}},c.prototype.utf8Write=function(a,b,d){return c._charsWritten=j(w(a),this,b,d)},c.prototype.asciiWrite=function(a,b,d){return c._charsWritten=j(B(a),this,b,d)},c.prototype.binaryWrite=c.prototype.asciiWrite,c.prototype.base64Write=function(a,b,d){return c._charsWritten=j(p(a),this,b,d)},c.prototype.base64Slice=function(b,c){var a=Array.prototype.slice.apply(this,arguments);return e('base64-js').fromByteArray(a)},c.prototype.utf8Slice=function(){var b=Array.prototype.slice.apply(this,arguments),d='',c='',a=0;while(a<b.length)b[a]<=127?(d+=u(c)+String.fromCharCode(b[a]),c=''):c+='%'+b[a].toString(16),a++;return d+u(c)},c.prototype.asciiSlice=function(){var b=Array.prototype.slice.apply(this,arguments),c='';for(var a=0;a<b.length;a++)c+=String.fromCharCode(b[a]);return c},c.prototype.binarySlice=c.prototype.asciiSlice,c.prototype.inspect=function(){var b=[],c=this.length;for(var a=0;a<c;a++)if(b[a]=i(this[a]),a==f.INSPECT_MAX_BYTES){b[a+1]='...';break}return'<SlowBuffer '+b.join(' ')+'>'},c.prototype.hexSlice=function(b,a){var d=this.length;(!b||b<0)&&(b=0),(!a||a<0||a>d)&&(a=d);var e='';for(var c=b;c<a;c++)e+=i(this[c]);return e},c.prototype.toString=function(c,a,b){if(c=String(c||'utf8').toLowerCase(),a=+a||0,b===void 0&&(b=this.length),+b==a)return'';switch(c){case'hex':return this.hexSlice(a,b);case'utf8':case'utf-8':return this.utf8Slice(a,b);case'ascii':return this.asciiSlice(a,b);case'binary':return this.binarySlice(a,b);case'base64':return this.base64Slice(a,b);case'ucs2':case'ucs-2':return this.ucs2Slice(a,b);default:throw new Error('Unknown encoding')}},c.prototype.hexWrite=function(h,d,a){d=+d||0;var e=this.length-d;a?(a=+a,a>e&&(a=e)):a=e;var f=h.length;if(f%2)throw new Error('Invalid hex string');a>f/2&&(a=f/2);for(var b=0;b<a;b++){var g=parseInt(h.substr(b*2,2),16);if(isNaN(g))throw new Error('Invalid hex string');this[d+b]=g}return c._charsWritten=b*2,b},c.prototype.write=function(c,b,a,d){if(isFinite(b))isFinite(a)||(d=a,a=undefined);else{var f=d;d=b,b=a,a=f}b=+b||0;var e=this.length-b;a?(a=+a,a>e&&(a=e)):a=e,d=String(d||'utf8').toLowerCase();switch(d){case'hex':return this.hexWrite(c,b,a);case'utf8':case'utf-8':return this.utf8Write(c,b,a);case'ascii':return this.asciiWrite(c,b,a);case'binary':return this.binaryWrite(c,b,a);case'base64':return this.base64Write(c,b,a);case'ucs2':case'ucs-2':return this.ucs2Write(c,b,a);default:throw new Error('Unknown encoding')}},c.prototype.slice=function(c,b){if(b===undefined&&(b=this.length),b>this.length)throw new Error('oob');if(c>b)throw new Error('oob');return new a(this,b-c,+c)},c.prototype.copy=function(e,d,f,g){var c=[];for(var a=f;a<g;a++)b.ok(this[a]!==void 0,'copying undefined buffer bytes!'),c.push(this[a]);for(var a=d;a<d+c.length;a++)e[a]=c[a-d]},c.prototype.fill=function(d,c,b){if(b>this.length)throw new Error('oob');if(c>b)throw new Error('oob');for(var a=c;a<b;a++)this[a]=d},f.SlowBuffer=c,f.Buffer=a,a.poolSize=8192;var d;a.isBuffer=function b(b){return b instanceof a||b instanceof c},a.concat=function(c,e){if(!Array.isArray(c))throw new Error('Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.');if(c.length===0)return new a(0);if(c.length===1)return c[0];if(typeof e!=='number'){e=0;for(var b=0;b<c.length;b++){var d=c[b];e+=d.length}}var f=new a(e),g=0;for(var b=0;b<c.length;b++){var d=c[b];d.copy(f,g),g+=d.length}return f},a.prototype.inspect=function a(){var b=[],c=this.length;for(var a=0;a<c;a++)if(b[a]=i(this.parent[a+this.offset]),a==f.INSPECT_MAX_BYTES){b[a+1]='...';break}return'<Buffer '+b.join(' ')+'>'},a.prototype.get=function a(a){if(a<0||a>=this.length)throw new Error('oob');return this.parent[this.offset+a]},a.prototype.set=function a(a,b){if(a<0||a>=this.length)throw new Error('oob');return this.parent[this.offset+a]=b},a.prototype.write=function(f,d,b,g){if(isFinite(d))isFinite(b)||(g=b,b=undefined);else{var i=g;g=d,d=b,b=i}d=+d||0;var h=this.length-d;b?(b=+b,b>h&&(b=h)):b=h,g=String(g||'utf8').toLowerCase();var e;switch(g){case'hex':e=this.parent.hexWrite(f,this.offset+d,b);break;case'utf8':case'utf-8':e=this.parent.utf8Write(f,this.offset+d,b);break;case'ascii':e=this.parent.asciiWrite(f,this.offset+d,b);break;case'binary':e=this.parent.binaryWrite(f,this.offset+d,b);break;case'base64':e=this.parent.base64Write(f,this.offset+d,b);break;case'ucs2':case'ucs-2':e=this.parent.ucs2Write(f,this.offset+d,b);break;default:throw new Error('Unknown encoding')}return a._charsWritten=c._charsWritten,e},a.prototype.toString=function(c,a,b){c=String(c||'utf8').toLowerCase(),a===void 0||a<0?a=0:a>this.length&&(a=this.length),b===void 0||b>this.length?b=this.length:b<0&&(b=0),a+=this.offset,b+=this.offset;switch(c){case'hex':return this.parent.hexSlice(a,b);case'utf8':case'utf-8':return this.parent.utf8Slice(a,b);case'ascii':return this.parent.asciiSlice(a,b);case'binary':return this.parent.binarySlice(a,b);case'base64':return this.parent.base64Slice(a,b);case'ucs2':case'ucs-2':return this.parent.ucs2Slice(a,b);default:throw new Error('Unknown encoding')}},a.byteLength=c.byteLength,a.prototype.fill=function a(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),typeof a==='string'&&(a=a.charCodeAt(0)),!(typeof a==='number')||isNaN(a))throw new Error('value is not a number');if(c<b)throw new Error('end < start');if(c===b)return 0;if(this.length==0)return 0;if(b<0||b>=this.length)throw new Error('start out of bounds');if(c<0||c>this.length)throw new Error('end out of bounds');return this.parent.fill(a,b+this.offset,c+this.offset)},a.prototype.copy=function(d,c,b,a){var e=this;if(b||(b=0),a||(a=this.length),c||(c=0),a<b)throw new Error('sourceEnd < sourceStart');if(a===b)return 0;if(d.length==0||e.length==0)return 0;if(c<0||c>=d.length)throw new Error('targetStart out of bounds');if(b<0||b>=e.length)throw new Error('sourceStart out of bounds');if(a<0||a>e.length)throw new Error('sourceEnd out of bounds');return a>this.length&&(a=this.length),d.length-c<a-b&&(a=d.length-c+b),this.parent.copy(d.parent,c+d.offset,b+this.offset,a+this.offset)},a.prototype.slice=function(c,b){if(b===undefined&&(b=this.length),b>this.length)throw new Error('oob');if(c>b)throw new Error('oob');return new a(this.parent,b-c,+c+this.offset)},a.prototype.utf8Slice=function(a,b){return this.toString('utf8',a,b)},a.prototype.binarySlice=function(a,b){return this.toString('binary',a,b)},a.prototype.asciiSlice=function(a,b){return this.toString('ascii',a,b)},a.prototype.utf8Write=function(a,b){return this.write(a,b,'utf8')},a.prototype.binaryWrite=function(a,b){return this.write(a,b,'binary')},a.prototype.asciiWrite=function(a,b){return this.write(a,b,'ascii')},a.prototype.readUInt8=function(a,d){var c=this;return d||(b.ok(a!==undefined&&a!==null,'missing offset'),b.ok(a<c.length,'Trying to read beyond buffer length')),a>=c.length?void 0:c.parent[c.offset+a]},a.prototype.readUInt16LE=function(a,b){return o(this,a,!1,b)},a.prototype.readUInt16BE=function(a,b){return o(this,a,!0,b)},a.prototype.readUInt32LE=function(a,b){return n(this,a,!1,b)},a.prototype.readUInt32BE=function(a,b){return n(this,a,!0,b)},a.prototype.readInt8=function(c,e){var a=this,d;return e||(b.ok(c!==undefined&&c!==null,'missing offset'),b.ok(c<a.length,'Trying to read beyond buffer length')),c>=a.length?void 0:(d=a.parent[a.offset+c]&128,d?(255-a.parent[a.offset+c]+1)*-1:a.parent[a.offset+c])},a.prototype.readInt16LE=function(a,b){return v(this,a,!1,b)},a.prototype.readInt16BE=function(a,b){return v(this,a,!0,b)},a.prototype.readInt32LE=function(a,b){return r(this,a,!1,b)},a.prototype.readInt32BE=function(a,b){return r(this,a,!0,b)},a.prototype.readFloatLE=function(a,b){return s(this,a,!1,b)},a.prototype.readFloatBE=function(a,b){return s(this,a,!0,b)},a.prototype.readDoubleLE=function(a,b){return t(this,a,!1,b)},a.prototype.readDoubleBE=function(a,b){return t(this,a,!0,b)},a.prototype.writeUInt8=function(d,a,e){var c=this;e||(b.ok(d!==undefined&&d!==null,'missing value'),b.ok(a!==undefined&&a!==null,'missing offset'),b.ok(a<c.length,'trying to write beyond buffer length'),k(d,255)),a<c.length&&(c.parent[c.offset+a]=d)},a.prototype.writeUInt16LE=function(a,b,c){h(this,a,b,!1,c)},a.prototype.writeUInt16BE=function(a,b,c){h(this,a,b,!0,c)},a.prototype.writeUInt32LE=function(a,b,c){g(this,a,b,!1,c)},a.prototype.writeUInt32BE=function(a,b,c){g(this,a,b,!0,c)},a.prototype.writeInt8=function(a,c,e){var d=this;e||(b.ok(a!==undefined&&a!==null,'missing value'),b.ok(c!==undefined&&c!==null,'missing offset'),b.ok(c<d.length,'Trying to write beyond buffer length'),m(a,127,-128)),a>=0?d.writeUInt8(a,c,e):d.writeUInt8(255+a+1,c,e)},a.prototype.writeInt16LE=function(a,b,c){y(this,a,b,!1,c)},a.prototype.writeInt16BE=function(a,b,c){y(this,a,b,!0,c)},a.prototype.writeInt32LE=function(a,b,c){z(this,a,b,!1,c)},a.prototype.writeInt32BE=function(a,b,c){z(this,a,b,!0,c)},a.prototype.writeFloatLE=function(a,b,c){A(this,a,b,!1,c)},a.prototype.writeFloatBE=function(a,b,c){A(this,a,b,!0,c)},a.prototype.writeDoubleLE=function(a,b,c){q(this,a,b,!1,c)},a.prototype.writeDoubleBE=function(a,b,c){q(this,a,b,!0,c)},c.prototype.readUInt8=a.prototype.readUInt8,c.prototype.readUInt16LE=a.prototype.readUInt16LE,c.prototype.readUInt16BE=a.prototype.readUInt16BE,c.prototype.readUInt32LE=a.prototype.readUInt32LE,c.prototype.readUInt32BE=a.prototype.readUInt32BE,c.prototype.readInt8=a.prototype.readInt8,c.prototype.readInt16LE=a.prototype.readInt16LE,c.prototype.readInt16BE=a.prototype.readInt16BE,c.prototype.readInt32LE=a.prototype.readInt32LE,c.prototype.readInt32BE=a.prototype.readInt32BE,c.prototype.readFloatLE=a.prototype.readFloatLE,c.prototype.readFloatBE=a.prototype.readFloatBE,c.prototype.readDoubleLE=a.prototype.readDoubleLE,c.prototype.readDoubleBE=a.prototype.readDoubleBE,c.prototype.writeUInt8=a.prototype.writeUInt8,c.prototype.writeUInt16LE=a.prototype.writeUInt16LE,c.prototype.writeUInt16BE=a.prototype.writeUInt16BE,c.prototype.writeUInt32LE=a.prototype.writeUInt32LE,c.prototype.writeUInt32BE=a.prototype.writeUInt32BE,c.prototype.writeInt8=a.prototype.writeInt8,c.prototype.writeInt16LE=a.prototype.writeInt16LE,c.prototype.writeInt16BE=a.prototype.writeInt16BE,c.prototype.writeInt32LE=a.prototype.writeInt32LE,c.prototype.writeInt32BE=a.prototype.writeInt32BE,c.prototype.writeFloatLE=a.prototype.writeFloatLE,c.prototype.writeFloatBE=a.prototype.writeFloatBE,c.prototype.writeDoubleLE=a.prototype.writeDoubleLE,c.prototype.writeDoubleBE=a.prototype.writeDoubleBE},{assert:1,'./buffer_ieee754':5,'base64-js':7}],7:[function(b,a,c){!function(e){'use strict';function c(a){var c,g,h,d,f,e;if(a.length%4>0)throw'Invalid string. Length must be a multiple of 4';for(f=a.indexOf('='),f=f>0?a.length-f:0,e=[],h=f>0?a.length-4:a.length,c=0,g=0;c<h;c+=4,g+=3)d=b.indexOf(a[c])<<18|b.indexOf(a[c+1])<<12|b.indexOf(a[c+2])<<6|b.indexOf(a[c+3]),e.push((d&16711680)>>16),e.push((d&65280)>>8),e.push(d&255);return f===2?(d=b.indexOf(a[c])<<2|b.indexOf(a[c+1])>>4,e.push(d&255)):f===1&&(d=b.indexOf(a[c])<<10|b.indexOf(a[c+1])<<4|b.indexOf(a[c+2])>>2,e.push(d>>8&255),e.push(d&255)),e}function d(a){function h(a){return b[a>>18&63]+b[a>>12&63]+b[a>>6&63]+b[a&63]}var e,f=a.length%3,c='',d,g;for(e=0,g=a.length-f;e<g;e+=3)d=(a[e]<<16)+(a[e+1]<<8)+a[e+2],c+=h(d);switch(f){case 1:d=a[a.length-1];c+=b[d>>2];c+=b[d<<4&63];c+='==';break;case 2:d=(a[a.length-2]<<8)+a[a.length-1];c+=b[d>>10];c+=b[d>>4&63];c+=b[d<<2&63];c+='=';break}return c}var b='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';a.exports.toByteArray=c,a.exports.fromByteArray=d}()},{}],8:[function(b,c,a){a.readIEEE754=function(h,l,n,f,m){var b,d,i=m*8-f-1,j=(1<<i)-1,k=j>>1,a=-7,c=n?0:m-1,g=n?1:-1,e=h[l+c];for(c+=g,b=e&(1<<-a)-1,e>>=-a,a+=i;a>0;b=b*256+h[l+c],c+=g,a-=8);for(d=b&(1<<-a)-1,b>>=-a,a+=f;a>0;d=d*256+h[l+c],c+=g,a-=8);if(b===0)b=1-k;else if(b===j)return d?NaN:(e?-1:1)*Infinity;else d+=Math.pow(2,f),b-=k;return(e?-1:1)*d*Math.pow(2,b-f)},a.writeIEEE754=function(k,b,m,n,c,p){var a,d,f,h=p*8-c-1,i=(1<<h)-1,e=i>>1,l=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?p-1:0,j=n?-1:1,o=b<0||b===0&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===Infinity?(d=isNaN(b)?1:0,a=i):(a=Math.floor(Math.log(b)/Math.LN2),b*(f=Math.pow(2,-a))<1&&(a--,f*=2),a+e>=1?b+=l/f:b+=l*Math.pow(2,1-e),b*f>=2&&(a++,f/=2),a+e>=i?(d=0,a=i):a+e>=1?(d=(b*f-1)*Math.pow(2,c),a+=e):(d=b*Math.pow(2,e-1)*Math.pow(2,c),a=0));c>=8;k[m+g]=d&255,g+=j,d/=256,c-=8);for(a=a<<c|d,h+=c;h>0;k[m+g]=a&255,g+=j,a/=256,h-=8);k[m+g-j]|=o*128}},{}],3:[function(e,E,f){function c(a){this.length=a}function i(a){return a<16?'0'+a.toString(16):a.toString(16)}function w(b){var c=[];for(var a=0;a<b.length;a++)if(b.charCodeAt(a)<=127)c.push(b.charCodeAt(a));else{var e=encodeURIComponent(b.charAt(a)).substr(1).split('%');for(var d=0;d<e.length;d++)c.push(parseInt(e[d],16))}return c}function B(c){var b=[];for(var a=0;a<c.length;a++)b.push(c.charCodeAt(a)&255);return b}function p(a){return e('base64-js').toByteArray(a)}function j(b,c,d,e){var a=0;while(a<e){if(a+d>=c.length||a>=b.length)break;c[a+d]=b[a],a++}return a}function u(a){try{return decodeURIComponent(a)}catch(a){return String.fromCharCode(65533)}}function l(a){return a=~~Math.ceil(+a),a<0?0:a}function a(b,f,g){if(!(this instanceof a))return new a(b,f,g);var h;if(typeof g==='number')this.length=l(f),this.parent=b,this.offset=g;else{switch(h=typeof b){case'number':this.length=l(b);break;case'string':this.length=a.byteLength(b,f);break;case'object':this.length=l(b.length);break;default:throw new Error('First argument needs to be a number, array or string.')}if(this.length>a.poolSize?(this.parent=new c(this.length),this.offset=0):((!d||d.length-d.used<this.length)&&C(),this.parent=d,this.offset=d.used,d.used+=this.length),D(b))for(var e=0;e<this.length;e++)this.parent[e+this.offset]=b[e];else h=='string'&&(this.length=this.write(b,0,f))}}function D(b){return Array.isArray(b)||a.isBuffer(b)||b&&typeof b==='object'&&typeof b.length==='number'}function C(){d=new c(a.poolSize),d.used=0}function o(a,c,e,f){var d=0;return f||(b.ok(typeof e==='boolean','missing or invalid endian'),b.ok(c!==undefined&&c!==null,'missing offset'),b.ok(c+1<a.length,'Trying to read beyond buffer length')),e?(d=a.parent[a.offset+c]<<8,d|=a.parent[a.offset+c+1]):(d=a.parent[a.offset+c],d|=a.parent[a.offset+c+1]<<8),d}function n(a,c,e,f){var d=0;return f||(b.ok(typeof e==='boolean','missing or invalid endian'),b.ok(c!==undefined&&c!==null,'missing offset'),b.ok(c+3<a.length,'Trying to read beyond buffer length')),e?(d=a.parent[a.offset+c+1]<<16,d|=a.parent[a.offset+c+2]<<8,d|=a.parent[a.offset+c+3],d+=a.parent[a.offset+c]<<24>>>0):(d=a.parent[a.offset+c+2]<<16,d|=a.parent[a.offset+c+1]<<8,d|=a.parent[a.offset+c],d+=a.parent[a.offset+c+3]<<24>>>0),d}function v(d,a,e,f){var g,c;return f||(b.ok(typeof e==='boolean','missing or invalid endian'),b.ok(a!==undefined&&a!==null,'missing offset'),b.ok(a+1<d.length,'Trying to read beyond buffer length')),c=o(d,a,e,f),g=c&32768,g?(65535-c+1)*-1:c}function r(d,a,e,f){var g,c;return f||(b.ok(typeof e==='boolean','missing or invalid endian'),b.ok(a!==undefined&&a!==null,'missing offset'),b.ok(a+3<d.length,'Trying to read beyond buffer length')),c=n(d,a,e,f),g=c&2147483648,g?(4294967295-c+1)*-1:c}function s(a,c,d,f){return f||(b.ok(typeof d==='boolean','missing or invalid endian'),b.ok(c+3<a.length,'Trying to read beyond buffer length')),e('./buffer_ieee754').readIEEE754(a,c,d,23,4)}function t(a,c,d,f){return f||(b.ok(typeof d==='boolean','missing or invalid endian'),b.ok(c+7<a.length,'Trying to read beyond buffer length')),e('./buffer_ieee754').readIEEE754(a,c,d,52,8)}function k(a,c){b.ok(typeof a=='number','cannot write a non-number as a number'),b.ok(a>=0,'specified a negative value for writing an unsigned value'),b.ok(a<=c,'value is larger than maximum value for type'),b.ok(Math.floor(a)===a,'value has a fractional component')}function h(a,c,d,e,f){f||(b.ok(c!==undefined&&c!==null,'missing value'),b.ok(typeof e==='boolean','missing or invalid endian'),b.ok(d!==undefined&&d!==null,'missing offset'),b.ok(d+1<a.length,'trying to write beyond buffer length'),k(c,65535)),e?(a.parent[a.offset+d]=(c&65280)>>>8,a.parent[a.offset+d+1]=c&255):(a.parent[a.offset+d+1]=(c&65280)>>>8,a.parent[a.offset+d]=c&255)}function g(a,c,d,e,f){f||(b.ok(c!==undefined&&c!==null,'missing value'),b.ok(typeof e==='boolean','missing or invalid endian'),b.ok(d!==undefined&&d!==null,'missing offset'),b.ok(d+3<a.length,'trying to write beyond buffer length'),k(c,4294967295)),e?(a.parent[a.offset+d]=c>>>24&255,a.parent[a.offset+d+1]=c>>>16&255,a.parent[a.offset+d+2]=c>>>8&255,a.parent[a.offset+d+3]=c&255):(a.parent[a.offset+d+3]=c>>>24&255,a.parent[a.offset+d+2]=c>>>16&255,a.parent[a.offset+d+1]=c>>>8&255,a.parent[a.offset+d]=c&255)}function m(a,c,d){b.ok(typeof a=='number','cannot write a non-number as a number'),b.ok(a<=c,'value larger than maximum allowed value'),b.ok(a>=d,'value smaller than minimum allowed value'),b.ok(Math.floor(a)===a,'value has a fractional component')}function x(a,c,d){b.ok(typeof a=='number','cannot write a non-number as a number'),b.ok(a<=c,'value larger than maximum allowed value'),b.ok(a>=d,'value smaller than minimum allowed value')}function y(d,a,c,e,f){f||(b.ok(a!==undefined&&a!==null,'missing value'),b.ok(typeof e==='boolean','missing or invalid endian'),b.ok(c!==undefined&&c!==null,'missing offset'),b.ok(c+1<d.length,'Trying to write beyond buffer length'),m(a,32767,-32768)),a>=0?h(d,a,c,e,f):h(d,65535+a+1,c,e,f)}function z(d,a,c,e,f){f||(b.ok(a!==undefined&&a!==null,'missing value'),b.ok(typeof e==='boolean','missing or invalid endian'),b.ok(c!==undefined&&c!==null,'missing offset'),b.ok(c+3<d.length,'Trying to write beyond buffer length'),m(a,2147483647,-2147483648)),a>=0?g(d,a,c,e,f):g(d,4294967295+a+1,c,e,f)}function A(d,a,c,f,g){g||(b.ok(a!==undefined&&a!==null,'missing value'),b.ok(typeof f==='boolean','missing or invalid endian'),b.ok(c!==undefined&&c!==null,'missing offset'),b.ok(c+3<d.length,'Trying to write beyond buffer length'),x(a,3.4028234663852886e38,-3.4028234663852886e38)),e('./buffer_ieee754').writeIEEE754(d,a,c,f,23,4)}function q(d,a,c,f,g){g||(b.ok(a!==undefined&&a!==null,'missing value'),b.ok(typeof f==='boolean','missing or invalid endian'),b.ok(c!==undefined&&c!==null,'missing offset'),b.ok(c+7<d.length,'Trying to write beyond buffer length'),x(a,1.7976931348623157e308,-1.7976931348623157e308)),e('./buffer_ieee754').writeIEEE754(d,a,c,f,52,8)}var b=e('assert');f.INSPECT_MAX_BYTES=50,c.byteLength=function(a,b){switch(b||'utf8'){case'hex':return a.length/2;case'utf8':case'utf-8':return w(a).length;case'ascii':return a.length;case'base64':return p(a).length;default:throw new Error('Unknown encoding')}},c.prototype.utf8Write=function(a,b,d){return c._charsWritten=j(w(a),this,b,d)},c.prototype.asciiWrite=function(a,b,d){return c._charsWritten=j(B(a),this,b,d)},c.prototype.base64Write=function(a,b,d){return c._charsWritten=j(p(a),this,b,d)},c.prototype.base64Slice=function(b,c){var a=Array.prototype.slice.apply(this,arguments);return e('base64-js').fromByteArray(a)},c.prototype.utf8Slice=function(){var b=Array.prototype.slice.apply(this,arguments),d='',c='',a=0;while(a<b.length)b[a]<=127?(d+=u(c)+String.fromCharCode(b[a]),c=''):c+='%'+b[a].toString(16),a++;return d+u(c)},c.prototype.asciiSlice=function(){var b=Array.prototype.slice.apply(this,arguments),c='';for(var a=0;a<b.length;a++)c+=String.fromCharCode(b[a]);return c},c.prototype.inspect=function(){var b=[],c=this.length;for(var a=0;a<c;a++)if(b[a]=i(this[a]),a==f.INSPECT_MAX_BYTES){b[a+1]='...';break}return'<SlowBuffer '+b.join(' ')+'>'},c.prototype.hexSlice=function(b,a){var d=this.length;(!b||b<0)&&(b=0),(!a||a<0||a>d)&&(a=d);var e='';for(var c=b;c<a;c++)e+=i(this[c]);return e},c.prototype.toString=function(c,a,b){if(c=String(c||'utf8').toLowerCase(),a=+a||0,b===void 0&&(b=this.length),+b==a)return'';switch(c){case'hex':return this.hexSlice(a,b);case'utf8':case'utf-8':return this.utf8Slice(a,b);case'ascii':return this.asciiSlice(a,b);case'binary':return this.binarySlice(a,b);case'base64':return this.base64Slice(a,b);case'ucs2':case'ucs-2':return this.ucs2Slice(a,b);default:throw new Error('Unknown encoding')}},c.prototype.hexWrite=function(h,d,a){d=+d||0;var e=this.length-d;a?(a=+a,a>e&&(a=e)):a=e;var f=h.length;if(f%2)throw new Error('Invalid hex string');a>f/2&&(a=f/2);for(var b=0;b<a;b++){var g=parseInt(h.substr(b*2,2),16);if(isNaN(g))throw new Error('Invalid hex string');this[d+b]=g}return c._charsWritten=b*2,b},c.prototype.write=function(c,b,a,d){if(isFinite(b))isFinite(a)||(d=a,a=undefined);else{var f=d;d=b,b=a,a=f}b=+b||0;var e=this.length-b;a?(a=+a,a>e&&(a=e)):a=e,d=String(d||'utf8').toLowerCase();switch(d){case'hex':return this.hexWrite(c,b,a);case'utf8':case'utf-8':return this.utf8Write(c,b,a);case'ascii':return this.asciiWrite(c,b,a);case'binary':return this.binaryWrite(c,b,a);case'base64':return this.base64Write(c,b,a);case'ucs2':case'ucs-2':return this.ucs2Write(c,b,a);default:throw new Error('Unknown encoding')}},c.prototype.slice=function(c,b){if(b===undefined&&(b=this.length),b>this.length)throw new Error('oob');if(c>b)throw new Error('oob');return new a(this,b-c,+c)},c.prototype.copy=function(e,d,f,g){var c=[];for(var a=f;a<g;a++)b.ok(this[a]!==void 0,'copying undefined buffer bytes!'),c.push(this[a]);for(var a=d;a<d+c.length;a++)e[a]=c[a-d]},f.SlowBuffer=c,f.Buffer=a,a.poolSize=8192;var d;a.isBuffer=function b(b){return b instanceof a||b instanceof c},a.concat=function(c,e){if(!Array.isArray(c))throw new Error('Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.');if(c.length===0)return new a(0);if(c.length===1)return c[0];if(typeof e!=='number'){e=0;for(var b=0;b<c.length;b++){var d=c[b];e+=d.length}}var f=new a(e),g=0;for(var b=0;b<c.length;b++){var d=c[b];d.copy(f,g),g+=d.length}return f},a.prototype.inspect=function a(){var b=[],c=this.length;for(var a=0;a<c;a++)if(b[a]=i(this.parent[a+this.offset]),a==f.INSPECT_MAX_BYTES){b[a+1]='...';break}return'<Buffer '+b.join(' ')+'>'},a.prototype.get=function a(a){if(a<0||a>=this.length)throw new Error('oob');return this.parent[this.offset+a]},a.prototype.set=function a(a,b){if(a<0||a>=this.length)throw new Error('oob');return this.parent[this.offset+a]=b},a.prototype.write=function(f,d,b,g){if(isFinite(d))isFinite(b)||(g=b,b=undefined);else{var i=g;g=d,d=b,b=i}d=+d||0;var h=this.length-d;b?(b=+b,b>h&&(b=h)):b=h,g=String(g||'utf8').toLowerCase();var e;switch(g){case'hex':e=this.parent.hexWrite(f,this.offset+d,b);break;case'utf8':case'utf-8':e=this.parent.utf8Write(f,this.offset+d,b);break;case'ascii':e=this.parent.asciiWrite(f,this.offset+d,b);break;case'binary':e=this.parent.binaryWrite(f,this.offset+d,b);break;case'base64':e=this.parent.base64Write(f,this.offset+d,b);break;case'ucs2':case'ucs-2':e=this.parent.ucs2Write(f,this.offset+d,b);break;default:throw new Error('Unknown encoding')}return a._charsWritten=c._charsWritten,e},a.prototype.toString=function(c,a,b){c=String(c||'utf8').toLowerCase(),a===void 0||a<0?a=0:a>this.length&&(a=this.length),b===void 0||b>this.length?b=this.length:b<0&&(b=0),a+=this.offset,b+=this.offset;switch(c){case'hex':return this.parent.hexSlice(a,b);case'utf8':case'utf-8':return this.parent.utf8Slice(a,b);case'ascii':return this.parent.asciiSlice(a,b);case'binary':return this.parent.binarySlice(a,b);case'base64':return this.parent.base64Slice(a,b);case'ucs2':case'ucs-2':return this.parent.ucs2Slice(a,b);default:throw new Error('Unknown encoding')}},a.byteLength=c.byteLength,a.prototype.fill=function a(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),typeof a==='string'&&(a=a.charCodeAt(0)),!(typeof a==='number')||isNaN(a))throw new Error('value is not a number');if(c<b)throw new Error('end < start');if(c===b)return 0;if(this.length==0)return 0;if(b<0||b>=this.length)throw new Error('start out of bounds');if(c<0||c>this.length)throw new Error('end out of bounds');return this.parent.fill(a,b+this.offset,c+this.offset)},a.prototype.copy=function(d,c,b,a){var e=this;if(b||(b=0),a||(a=this.length),c||(c=0),a<b)throw new Error('sourceEnd < sourceStart');if(a===b)return 0;if(d.length==0||e.length==0)return 0;if(c<0||c>=d.length)throw new Error('targetStart out of bounds');if(b<0||b>=e.length)throw new Error('sourceStart out of bounds');if(a<0||a>e.length)throw new Error('sourceEnd out of bounds');return a>this.length&&(a=this.length),d.length-c<a-b&&(a=d.length-c+b),this.parent.copy(d.parent,c+d.offset,b+this.offset,a+this.offset)},a.prototype.slice=function(c,b){if(b===undefined&&(b=this.length),b>this.length)throw new Error('oob');if(c>b)throw new Error('oob');return new a(this.parent,b-c,+c+this.offset)},a.prototype.utf8Slice=function(a,b){return this.toString('utf8',a,b)},a.prototype.binarySlice=function(a,b){return this.toString('binary',a,b)},a.prototype.asciiSlice=function(a,b){return this.toString('ascii',a,b)},a.prototype.utf8Write=function(a,b){return this.write(a,b,'utf8')},a.prototype.binaryWrite=function(a,b){return this.write(a,b,'binary')},a.prototype.asciiWrite=function(a,b){return this.write(a,b,'ascii')},a.prototype.readUInt8=function(a,d){var c=this;return d||(b.ok(a!==undefined&&a!==null,'missing offset'),b.ok(a<c.length,'Trying to read beyond buffer length')),c.parent[c.offset+a]},a.prototype.readUInt16LE=function(a,b){return o(this,a,!1,b)},a.prototype.readUInt16BE=function(a,b){return o(this,a,!0,b)},a.prototype.readUInt32LE=function(a,b){return n(this,a,!1,b)},a.prototype.readUInt32BE=function(a,b){return n(this,a,!0,b)},a.prototype.readInt8=function(c,e){var a=this,d;return e||(b.ok(c!==undefined&&c!==null,'missing offset'),b.ok(c<a.length,'Trying to read beyond buffer length')),d=a.parent[a.offset+c]&128,d?(255-a.parent[a.offset+c]+1)*-1:a.parent[a.offset+c]},a.prototype.readInt16LE=function(a,b){return v(this,a,!1,b)},a.prototype.readInt16BE=function(a,b){return v(this,a,!0,b)},a.prototype.readInt32LE=function(a,b){return r(this,a,!1,b)},a.prototype.readInt32BE=function(a,b){return r(this,a,!0,b)},a.prototype.readFloatLE=function(a,b){return s(this,a,!1,b)},a.prototype.readFloatBE=function(a,b){return s(this,a,!0,b)},a.prototype.readDoubleLE=function(a,b){return t(this,a,!1,b)},a.prototype.readDoubleBE=function(a,b){return t(this,a,!0,b)},a.prototype.writeUInt8=function(a,c,e){var d=this;e||(b.ok(a!==undefined&&a!==null,'missing value'),b.ok(c!==undefined&&c!==null,'missing offset'),b.ok(c<d.length,'trying to write beyond buffer length'),k(a,255)),d.parent[d.offset+c]=a},a.prototype.writeUInt16LE=function(a,b,c){h(this,a,b,!1,c)},a.prototype.writeUInt16BE=function(a,b,c){h(this,a,b,!0,c)},a.prototype.writeUInt32LE=function(a,b,c){g(this,a,b,!1,c)},a.prototype.writeUInt32BE=function(a,b,c){g(this,a,b,!0,c)},a.prototype.writeInt8=function(a,c,e){var d=this;e||(b.ok(a!==undefined&&a!==null,'missing value'),b.ok(c!==undefined&&c!==null,'missing offset'),b.ok(c<d.length,'Trying to write beyond buffer length'),m(a,127,-128)),a>=0?d.writeUInt8(a,c,e):d.writeUInt8(255+a+1,c,e)},a.prototype.writeInt16LE=function(a,b,c){y(this,a,b,!1,c)},a.prototype.writeInt16BE=function(a,b,c){y(this,a,b,!0,c)},a.prototype.writeInt32LE=function(a,b,c){z(this,a,b,!1,c)},a.prototype.writeInt32BE=function(a,b,c){z(this,a,b,!0,c)},a.prototype.writeFloatLE=function(a,b,c){A(this,a,b,!1,c)},a.prototype.writeFloatBE=function(a,b,c){A(this,a,b,!0,c)},a.prototype.writeDoubleLE=function(a,b,c){q(this,a,b,!1,c)},a.prototype.writeDoubleBE=function(a,b,c){q(this,a,b,!0,c)},c.prototype.readUInt8=a.prototype.readUInt8,c.prototype.readUInt16LE=a.prototype.readUInt16LE,c.prototype.readUInt16BE=a.prototype.readUInt16BE,c.prototype.readUInt32LE=a.prototype.readUInt32LE,c.prototype.readUInt32BE=a.prototype.readUInt32BE,c.prototype.readInt8=a.prototype.readInt8,c.prototype.readInt16LE=a.prototype.readInt16LE,c.prototype.readInt16BE=a.prototype.readInt16BE,c.prototype.readInt32LE=a.prototype.readInt32LE,c.prototype.readInt32BE=a.prototype.readInt32BE,c.prototype.readFloatLE=a.prototype.readFloatLE,c.prototype.readFloatBE=a.prototype.readFloatBE,c.prototype.readDoubleLE=a.prototype.readDoubleLE,c.prototype.readDoubleBE=a.prototype.readDoubleBE,c.prototype.writeUInt8=a.prototype.writeUInt8,c.prototype.writeUInt16LE=a.prototype.writeUInt16LE,c.prototype.writeUInt16BE=a.prototype.writeUInt16BE,c.prototype.writeUInt32LE=a.prototype.writeUInt32LE,c.prototype.writeUInt32BE=a.prototype.writeUInt32BE,c.prototype.writeInt8=a.prototype.writeInt8,c.prototype.writeInt16LE=a.prototype.writeInt16LE,c.prototype.writeInt16BE=a.prototype.writeInt16BE,c.prototype.writeInt32LE=a.prototype.writeInt32LE,c.prototype.writeInt32BE=a.prototype.writeInt32BE,c.prototype.writeFloatLE=a.prototype.writeFloatLE,c.prototype.writeFloatBE=a.prototype.writeFloatBE,c.prototype.writeDoubleLE=a.prototype.writeDoubleLE,c.prototype.writeDoubleBE=a.prototype.writeDoubleBE},{assert:1,'./buffer_ieee754':8,'base64-js':9}],9:[function(b,a,c){!function(e){'use strict';function c(a){var c,g,h,d,f,e;if(a.length%4>0)throw'Invalid string. Length must be a multiple of 4';for(f=a.indexOf('='),f=f>0?a.length-f:0,e=[],h=f>0?a.length-4:a.length,c=0,g=0;c<h;c+=4,g+=3)d=b.indexOf(a[c])<<18|b.indexOf(a[c+1])<<12|b.indexOf(a[c+2])<<6|b.indexOf(a[c+3]),e.push((d&16711680)>>16),e.push((d&65280)>>8),e.push(d&255);return f===2?(d=b.indexOf(a[c])<<2|b.indexOf(a[c+1])>>4,e.push(d&255)):f===1&&(d=b.indexOf(a[c])<<10|b.indexOf(a[c+1])<<4|b.indexOf(a[c+2])>>2,e.push(d>>8&255),e.push(d&255)),e}function d(a){function h(a){return b[a>>18&63]+b[a>>12&63]+b[a>>6&63]+b[a&63]}var e,f=a.length%3,c='',d,g;for(e=0,g=a.length-f;e<g;e+=3)d=(a[e]<<16)+(a[e+1]<<8)+a[e+2],c+=h(d);switch(f){case 1:d=a[a.length-1];c+=b[d>>2];c+=b[d<<4&63];c+='==';break;case 2:d=(a[a.length-2]<<8)+a[a.length-1];c+=b[d>>10];c+=b[d>>4&63];c+=b[d<<2&63];c+='=';break}return c}var b='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';a.exports.toByteArray=c,a.exports.fromByteArray=d}()},{}]},{},[]),b.exports=a('buffer-browserify')},{}],14:[function(c,b,d){var a=b.exports={};a.nextTick=function(b,c,a){return b=typeof window!=='undefined'&&window.setImmediate,c=typeof window!=='undefined'&&window.postMessage&&window.addEventListener,b?function(a){return window.setImmediate(a)}:c?(a=[],window.addEventListener('message',function(b){var c=b.source;if((c===window||c===null)&&b.data==='process-tick'&&(b.stopPropagation(),a.length>0)){var d=a.shift();d()}},!0),function b(b){a.push(b),window.postMessage('process-tick','*')}):function a(a){setTimeout(a,0)}}(),a.title='browser',a.browser=!0,a.env={},a.argv=[],a.binding=function(a){throw new Error('process.binding is not supported')},a.cwd=function(){return'/'},a.chdir=function(a){throw new Error('process.chdir is not supported')}},{}],15:[function(c,e,a){var d=c('events').EventEmitter,b=c('through');a=e.exports=function(b){return typeof b.pipe==='function'?a.fromStream(b):a.toStream(b)},a.toStream=function(a){var c=b(function a(a){this.emit('data',a)},function b(){var b=a._emitStreams.indexOf(c);a._emitStreams.splice(b,1)});if(!a._emitStreams){a._emitStreams=[];var d=a.emit;a.emit=function(){var b=[].slice.call(arguments);a._emitStreams.forEach(function(a){a.writable&&a.write(b)}),d.apply(a,arguments)}}return a._emitStreams.push(c),c},a.fromStream=function(c){var a=new d;return c.pipe(b(function(b){a.emit.apply(a,b)})),a}},{events:7,through:16}],16:[function(a,b,c){b.exports=a(4)},{__browserify_process:14,stream:10}],17:[function(a,b,c){!function(a){typeof define=='function'?define(a):typeof YUI=='function'?YUI.add('es5',a):a()}(function(){function j(){}function q(a){return a=+a,a!==a?a=0:a!==0&&a!==1/0&&a!==-(1/0)&&(a=(a>0||-1)*Math.floor(Math.abs(a))),a}function i(b){var a=typeof b;return b===null||a==='undefined'||a==='boolean'||a==='number'||a==='string'}function F(a){var b,c,d;if(i(a))return a;if(c=a.valueOf,typeof c==='function'&&(b=c.call(a),i(b)))return b;if(d=a.toString,typeof d==='function'&&(b=d.call(a),i(b)))return b;throw new TypeError}Function.prototype.bind||(Function.prototype.bind=function a(d){var a=this;if(typeof a!='function')throw new TypeError('Function.prototype.bind called on incompatible '+a);var c=g.call(arguments,1),b=function(){if(this instanceof b){var e=a.apply(this,c.concat(g.call(arguments)));return Object(e)===e?e:this}else return a.apply(d,c.concat(g.call(arguments)))};return a.prototype&&(j.prototype=a.prototype,b.prototype=new j,j.prototype=null),b});var f=Function.prototype.call,s=Array.prototype,d=Object.prototype,g=s.slice,a=f.bind(d.toString),h=f.bind(d.hasOwnProperty),E,D,C,B,A;if((A=h(d,'__defineGetter__'))&&(E=f.bind(d.__defineGetter__),D=f.bind(d.__defineSetter__),C=f.bind(d.__lookupGetter__),B=f.bind(d.__lookupSetter__)),[1,2].splice(0).length!=2){var u=Array.prototype.splice;Array.prototype.splice=function(a,b){return arguments.length?u.apply(this,[a===void 0?0:a,b===void 0?this.length-a:b].concat(g.call(arguments,2))):[]}}if([].unshift(0)!=1){var r=Array.prototype.unshift;Array.prototype.unshift=function(){return r.apply(this,arguments),this.length}}Array.isArray||(Array.isArray=function b(b){return a(b)=='[object Array]'});var k=Object('a'),c=k[0]!='a'||!(0 in k);if(Array.prototype.forEach||(Array.prototype.forEach=function d(g){var f=b(this),e=c&&a(this)=='[object String]'?this.split(''):f,h=arguments[1],d=-1,i=e.length>>>0;if(a(g)!='[object Function]')throw new TypeError;while(++d<i)d in e&&g.call(h,e[d],d,f)}),Array.prototype.map||(Array.prototype.map=function d(f){var g=b(this),e=c&&a(this)=='[object String]'?this.split(''):g,h=e.length>>>0,i=Array(h),j=arguments[1];if(a(f)!='[object Function]')throw new TypeError(f+' is not a function');for(var d=0;d<h;d++)d in e&&(i[d]=f.call(j,e[d],d,g));return i}),Array.prototype.filter||(Array.prototype.filter=function d(f){var g=b(this),e=c&&a(this)=='[object String]'?this.split(''):g,j=e.length>>>0,h=[],i,k=arguments[1];if(a(f)!='[object Function]')throw new TypeError(f+' is not a function');for(var d=0;d<j;d++)d in e&&(i=e[d],f.call(k,i,d,g)&&h.push(i));return h}),Array.prototype.every||(Array.prototype.every=function d(f){var g=b(this),e=c&&a(this)=='[object String]'?this.split(''):g,h=e.length>>>0,i=arguments[1];if(a(f)!='[object Function]')throw new TypeError(f+' is not a function');for(var d=0;d<h;d++)if(d in e&&!f.call(i,e[d],d,g))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function d(f){var g=b(this),e=c&&a(this)=='[object String]'?this.split(''):g,h=e.length>>>0,i=arguments[1];if(a(f)!='[object Function]')throw new TypeError(f+' is not a function');for(var d=0;d<h;d++)if(d in e&&f.call(i,e[d],d,g))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function d(h){var i=b(this),e=c&&a(this)=='[object String]'?this.split(''):i,g=e.length>>>0;if(a(h)!='[object Function]')throw new TypeError(h+' is not a function');if(!g&&arguments.length==1)throw new TypeError('reduce of empty array with no initial value');var d=0,f;if(arguments.length>=2)f=arguments[1];else do{if(d in e){f=e[d++];break}if(++d>=g)throw new TypeError('reduce of empty array with no initial value')}while(!0);for(;d<g;d++)d in e&&(f=h.call(void 0,f,e[d],d,i));return f}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function d(g){var h=b(this),e=c&&a(this)=='[object String]'?this.split(''):h,i=e.length>>>0;if(a(g)!='[object Function]')throw new TypeError(g+' is not a function');if(!i&&arguments.length==1)throw new TypeError('reduceRight of empty array with no initial value');var f,d=i-1;if(arguments.length>=2)f=arguments[1];else do{if(d in e){f=e[d--];break}if(--d<0)throw new TypeError('reduceRight of empty array with no initial value')}while(!0);do d in this&&(f=g.call(void 0,f,e[d],d,h));while(d--);return f}),(!Array.prototype.indexOf||[0,1].indexOf(1,2)!=-1)&&(Array.prototype.indexOf=function d(g){var e=c&&a(this)=='[object String]'?this.split(''):b(this),f=e.length>>>0;if(!f)return-1;var d=0;for(arguments.length>1&&(d=q(arguments[1])),d=d>=0?d:Math.max(0,f+d);d<f;d++)if(d in e&&e[d]===g)return d;return-1}),(!Array.prototype.lastIndexOf||[0,1].lastIndexOf(0,-3)!=-1)&&(Array.prototype.lastIndexOf=function d(g){var e=c&&a(this)=='[object String]'?this.split(''):b(this),f=e.length>>>0;if(!f)return-1;var d=f-1;for(arguments.length>1&&(d=Math.min(d,q(arguments[1]))),d=d>=0?d:f-Math.abs(d);d>=0;d--)if(d in e&&g===e[d])return d;return-1}),!Object.keys){var m=!0,n=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],w=n.length;for(var z in{toString:null})m=!1;Object.keys=function a(a){if(typeof a!='object'&&typeof a!='function'||a===null)throw new TypeError('Object.keys called on a non-object');var b=[];for(var d in a)h(a,d)&&b.push(d);if(m)for(var c=0,f=w;c<f;c++){var e=n[c];h(a,e)&&b.push(e)}return b}}var l=-621987552e5,o='-000001';(!Date.prototype.toISOString||new Date(l).toISOString().indexOf(o)===-1)&&(Date.prototype.toISOString=function a(){var b,d,e,a,c;if(!isFinite(this))throw new RangeError('Date.prototype.toISOString called on non-finite value.');a=this.getUTCFullYear(),c=this.getUTCMonth(),a+=Math.floor(c/12),c=(c%12+12)%12,b=[c+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],a=(a<0?'-':a>9999?'+':'')+('00000'+Math.abs(a)).slice(0<=a&&a<=9999?-4:-6),d=b.length;while(d--)e=b[d],e<10&&(b[d]='0'+e);return a+'-'+b.slice(0,2).join('-')+'T'+b.slice(2).join(':')+'.'+('000'+this.getUTCMilliseconds()).slice(-3)+'Z'});var p=!1;try{p=Date.prototype.toJSON&&new Date(NaN).toJSON()===null&&new Date(l).toJSON().indexOf(o)!==-1&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(a){}if(p||(Date.prototype.toJSON=function a(d){var a=Object(this),b=F(a),c;if(typeof b==='number'&&!isFinite(b))return null;if(c=a.toISOString,typeof c!='function')throw new TypeError('toISOString property is not callable');return c.call(a)}),(!Date.parse||'Date.parse is buggy')&&(Date=function(a,e,f,c){function b(c,e,f,g,h,j,k){var d=arguments.length;if(this instanceof a){var i=d==1&&String(c)===c?new a(b.parse(c)):d>=7?new a(c,e,f,g,h,j,k):d>=6?new a(c,e,f,g,h,j):d>=5?new a(c,e,f,g,h):d>=4?new a(c,e,f,g):d>=3?new a(c,e,f):d>=2?new a(c,e):d>=1?new a(c):new a;return i.constructor=b,i}return a.apply(this,arguments)}function d(a,c){var b=c>1?1:0;return f[c]+Math.floor((a-1969+b)/4)-Math.floor((a-1901+b)/100)+Math.floor((a-1601+b)/400)+365*(a-1970)}e=new RegExp('^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$'),f=[0,31,59,90,120,151,181,212,243,273,304,334,365];for(c in a)b[c]=a[c];return b.now=a.now,b.UTC=a.UTC,b.prototype=a.prototype,b.prototype.constructor=b,b.parse=function b(q){var b=e.exec(q);if(b){var g=Number(b[1]),f=Number(b[2]||1)-1,i=Number(b[3]||1)-1,l=Number(b[4]||0),h=Number(b[5]||0),k=Number(b[6]||0),j=Number(b[7]||0),p=!b[4]||b[8]?0:Number(new a(1970,0)),m=b[9]==='-'?1:-1,n=Number(b[10]||0),o=Number(b[11]||0),c;return l<(h>0||k>0||j>0?24:25)&&h<60&&k<60&&j<1e3&&f>-1&&f<12&&n<24&&o<60&&i>-1&&i<d(g,f+1)-d(g,f)&&(c=((d(g,f)+i)*24+l+n*m)*60,c=((c+h+o*m)*60+k)*1e3+j+p,-864e13<=c&&c<=864e13)?c:NaN}return a.parse.apply(this,arguments)},b}(Date)),Date.now||(Date.now=function a(){return new Date().getTime()}),'0'.split(void 0,0).length){var x=String.prototype.split;String.prototype.split=function(a,b){return a===void 0&&b===0?[]:x.apply(this,arguments)}}if(''.substr&&'0b'.substr(-1)!=='b'){var v=String.prototype.substr;String.prototype.substr=function(a,b){return v.call(this,a<0?(a=this.length+a)<0?0:a:a,b)}}var e='	\n\r   ᠎             　\u2028\u2029﻿';if(!String.prototype.trim||e.trim()){e='['+e+']';var t=new RegExp('^'+e+e+'*'),y=new RegExp(e+e+'*$');String.prototype.trim=function a(){if(this===undefined||this===null)throw new TypeError("can't convert "+this+' to object');return String(this).replace(t,'').replace(y,'')}}var b=function(a){if(a==null)throw new TypeError("can't convert "+a+' to object');return Object(a)}})},{}],18:[function(a,d,e){var b=a('./inject'),c=a('stream-serializer');d.exports=b(function(b,a){return c(a&&a.wrapper)(b)})},{'./inject':19,'stream-serializer':21}],19:[function(a,e,f){'use strict';var b=a('through'),c=a('xtend'),d=a('duplex');e.exports=function(a){function e(h,k){function n(){return Math.random().toString(16).slice(2)+Math.random().toString(16).slice(2)}function g(d){e.removeListener('end',g),e.removeListener('error',g),e.removeListener('close',g);var b=d||new Error('unexpected disconnection');for(var c in i){var a=i[c];a.destroyed=!0,h.error!==!0?a.end():(a.emit('error',b),a.destroy())}}function l(c,g,d){j++;var a=b(function(d){if(!this.writable){var b=Error('stream is not writable: '+c);return b.stream=this,f.emit('error',b)}e._data([a.id,'data',d])},function(){e._data([a.id,'end']),this.readable&&!d.allowHalfOpen&&!this.ended&&this.emit('end')});return a.pause=function(){e._data([a.id,'pause'])},a.resume=function(){e._data([a.id,'resume'])},a.error=function(b){e._data([a.id,'error',b])},a.once('close',function(){delete i[c],j--,e._data([a.id,'close']),j===0&&e.emit('zero')}),a.writable=d.writable,a.readable=d.readable,i[a.id=c]=a,a.meta=g,a}'function'===typeof h&&(k=h,h=null),h=h||{};var i={},j=0,e=d();e.on('_data',function(a){if(!(Array.isArray(a)&&'string'===typeof a[0]&&'__proto__'!==a[0]&&'string'===typeof a[1]&&'__proto__'!==a[1]))return;var h=a.shift(),g=a[0],b=i[h];if(!b){if(g=='close')return;if(g!='new')return f.emit('unknown',h);e.emit('connection',l(h,a[1].meta,a[1].opts))}else if(g==='pause')b.paused=!0;else if(g==='resume'){var k=b.paused;b.paused=!1,k&&b.emit('drain')}else if(g==='error'){var d=a[1];if(typeof d==='string')b.emit('error',new Error(d));else if(typeof d.message==='string'){var j=new Error(d.message);c(j,d),b.emit('error',j)}else b.emit('error',d)}else b.emit.apply(b,a)}).on('_end',function(){g(),e._end()});var f=a(e,h);e!==f&&e.on('connection',function(a){f.emit('connection',a)}),f.close=function(a){return e.once('zero',function(){e._end(),a&&a()}),this},k&&f.on('connection',k),f.on('connection',function(a){f.listeners('connection').length===1&&a.error('remote end lacks connection listener '+f.listeners('connection').length)});var m=f.pipe;return f.pipe=function(a,b){return m.call(f,a,b),e.on('end',g),e.on('close',g),e.on('error',g),a},f.createStream=function(c,a){a=a||{},a.writable||a.readable||(a.readable=a.writable=!0);var b=l(n(),c,a),d={writable:a.readable,readable:a.writable};return e._data([b.id,'new',{meta:c,opts:d}]),b},f.createWriteStream=function(a){return f.createStream(a,{writable:!0,readable:!1})},f.createReadStream=function(a){return f.createStream(a,{writable:!1,readable:!0})},f}return e}},{duplex:20,through:22,xtend:23}],20:[function(b,d,e){var a=b('__browserify_process'),c=b('stream');d.exports=function(h,i){var b=new c,d=[],g=!1,e;b.writable=b.readable=!0,b.paused=!1,b._paused=!1,b.buffer=d,b.on('pause',function(){b._paused=!0}).on('drain',function(){b._paused=!1}),h&&b.on('_data',h),i&&b.on('_end',i),b.once('end',function(){b.readable=!1,b.writable||a.nextTick(function(){b.destroy()})}),b.once('_end',function(){b.writable=!1,b.readable||b.destroy()}),b._data=function(a){return b.paused||d.length?d.push(a):b.emit('data',a),!(b.paused||d.length)},b._end=function(a){if(a&&b._data(a),e)return;e=!0,b.drain()},b.write=function(a){return b.emit('_data',a),!b._paused},b.end=function(){if(b.writable=!1,b.ended)return;b.ended=!0,b.emit('_end')},b.drain=function(){if(!(d.length||e))return;while(!b.paused)if(d.length)b.emit('data',d.shift()),d.length==0&&b.emit('_drain');else if(e&&b.readable){b.readable=!1,b.emit('end');return}else return!0};var f=!1;return b.resume=function(){return f=!0,b.paused=!1,b.drain(),b},b.destroy=function(){if(g)return;g=!0,d.length=0,b.emit('close')},b.pause=function(){return f=!0,b.paused=!0,b.emit('_pause'),b},b._pause=function(){return b._paused||(b._paused=!0,b.emit('pause')),this},b.paused=!0,a.nextTick(function(){if(f)return;b.resume()}),b}},{__browserify_process:14,stream:10}],21:[function(c,d,a){var b=c('events').EventEmitter;a=d.exports=function(b){return'function'==typeof b?b:a[b]||a.json},a.json=function(a,d){function e(c){var b;try{b=d.parse(c)}catch(b){return b.line=c,a.emit('error',b)}b!==undefined&&f.call(a,b)}function h(b){var a=(c+b).split('\n');c=a.pop();while(a.length)e(a.shift())}d=d||JSON;var f=a.write,c='';a.write=h;var g=a.end;return a.end=function(b){return b&&a.write(b),c&&e(c),g.call(a)},a.emit=function(e,c){e=='data'&&(c=d.stringify(c)+'\n'),b.prototype.emit.call(a,e,c)},a},a.raw=function(a){return a}},{events:7}],22:[function(a,b,c){b.exports=a(4)},{__browserify_process:14,stream:10}],23:[function(c,a,d){function b(f){for(var a=1;a<arguments.length;a++){var c=arguments[a],d=Object.keys(c);for(var b=0;b<d.length;b++){var e=d[b];f[e]=c[e]}}return f}a.exports=b},{}],24:[function(a,f,g){var b=a('stream'),c=a('sockjs-client'),d=a('url').resolve,e=a('url').parse;f.exports=function(i,j){var k=e(i).protocol?i:d(window.location.href,i),a=new b;a.readable=!0,a.writable=!0;var h=!1,g=[],f=c(k);return a.sock=f,a.write=function(a){!h||g.length?g.push(a):f.send(a)},a.end=function(b){if(b!==undefined&&a.write(b),!h){a._ended=!0;return}a.writable=!1,f.close()},a.destroy=function(){a._ended=!0,a.writable=a.readable=!1,g.length=0,f.close()},f.onopen=function(){typeof j==='function'&&j(),h=!0;for(var b=0;b<g.length;b++)f.send(g[b]);g=[],a.emit('connect'),a._ended&&a.end()},f.onmessage=function(b){a.emit('data',b.data)},f.onclose=function(){a.emit('end'),a.writable=!1,a.readable=!1},a}},{'sockjs-client':25,stream:10,url:11}],25:[function(require,module,exports){var JSON;JSON||(JSON={}),function(){function str(h,i){var b,e,c,g,f=gap,d,a=i[h];a&&typeof a=='object'&&typeof a.toJSON=='function'&&(a=a.toJSON(h)),typeof rep=='function'&&(a=rep.call(i,h,a));switch(typeof a){case'string':return quote(a);case'number':return isFinite(a)?String(a):'null';case'boolean':case'null':return String(a);case'object':if(!a)return'null';gap+=indent,d=[];if(Object.prototype.toString.apply(a)==='[object Array]'){for(g=a.length,b=0;b<g;b+=1)d[b]=str(b,a)||'null';return c=d.length===0?'[]':gap?'[\n'+gap+d.join(',\n'+gap)+'\n'+f+']':'['+d.join(',')+']',gap=f,c}if(rep&&typeof rep=='object')for(g=rep.length,b=0;b<g;b+=1)typeof rep[b]=='string'&&(e=rep[b],c=str(e,a),c&&d.push(quote(e)+(gap?': ':':')+c));else for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(c=str(e,a),c&&d.push(quote(e)+(gap?': ':':')+c));c=d.length===0?'{}':gap?'{\n'+gap+d.join(',\n'+gap)+'\n'+f+'}':'{'+d.join(',')+'}',gap=f;return c}}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(b){var a=meta[b];return typeof a=='string'?a:'\\u'+('0000'+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function f(a){return a<10?'0'+a:a}typeof Date.prototype.toJSON!='function'&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+f(this.getUTCMonth()+1)+'-'+f(this.getUTCDate())+'T'+f(this.getUTCHours())+':'+f(this.getUTCMinutes())+':'+f(this.getUTCSeconds())+'Z':null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={'':'\\b','	':'\\t','\n':'\\n','':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},rep;typeof JSON.stringify!='function'&&(JSON.stringify=function(d,a,b){var c;if(gap='',indent='',typeof b=='number')for(c=0;c<b;c+=1)indent+=' ';else typeof b=='string'&&(indent=b);if(rep=a,!a||typeof a=='function'||typeof a=='object'&&typeof a.length=='number')return str('',{'':d});throw new Error('JSON.stringify')}),typeof JSON.parse!='function'&&(JSON.parse=function(text,reviver){function walk(d,e){var b,c,a=d[e];if(a&&typeof a=='object')for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c=walk(a,b),c!==undefined?a[b]=c:delete a[b]);return reviver.call(d,e,a)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,'')))return j=eval('('+text+')'),typeof reviver=='function'?walk({'':j},''):j;throw new SyntaxError('JSON.parse')})}();var SockJS=function(d,c,a,m,f,l,M,g,D,S,s,O,V,a3,E,z,n,C,Q,P,p,Z,a0,x,b,t,j,X,R,$,r,a1,i,q,u,B,J,e,N,F,h,o,L,K,T,U,y,W,w,Y,v,_,G,A,I,a2,H,k){return d=document,c=window,a={},m=function(){},m.prototype.addEventListener=function(b,d){this._listeners||(this._listeners={}),b in this._listeners||(this._listeners[b]=[]);var c=this._listeners[b];a.arrIndexOf(c,d)===-1&&c.push(d);return},m.prototype.removeEventListener=function(c,e){if(!(this._listeners&&c in this._listeners))return;var b=this._listeners[c],d=a.arrIndexOf(b,e);if(d!==-1){b.length>1?this._listeners[c]=b.slice(0,d).concat(b.slice(d+1)):delete this._listeners[c];return}return},m.prototype.dispatchEvent=function(d){var a=d.type,c=Array.prototype.slice.call(arguments,0);if(this['on'+a]&&this['on'+a].apply(this,c),this._listeners&&a in this._listeners)for(var b=0;b<this._listeners[a].length;b++)this._listeners[a][b].apply(this,c)},f=function(c,a){if(this.type=c,a!==void 0)for(var b in a){if(!a.hasOwnProperty(b))continue;this[b]=a[b]}},f.prototype.toString=function(){var c=[];for(var a in this){if(!this.hasOwnProperty(a))continue;var b=this[a];typeof b==='function'&&(b='[function]'),c.push(a+'='+b)}return'SimpleEvent('+c.join(', ')+')'},l=function(a){this.events=a||[]},l.prototype.emit=function(c){var b=this,d=Array.prototype.slice.call(arguments,1);!b.nuked&&b['on'+c]&&b['on'+c].apply(b,d),a.arrIndexOf(b.events,c)===-1&&a.log('Event '+JSON.stringify(c)+' not listed '+JSON.stringify(b.events)+' in '+b)},l.prototype.nuke=function(c){var a=this;a.nuked=!0;for(var b=0;b<a.events.length;b++)delete a[a.events[b]]},M='abcdefghijklmnopqrstuvwxyz0123456789_',a.random_string=function(d,a){a=a||M.length;var b,c=[];for(b=0;b<d;b++)c.push(M.substr(Math.floor(Math.random()*a),1));return c.join('')},a.random_number=function(a){return Math.floor(Math.random()*a)},a.random_number_string=function(c){var b=(''+(c-1)).length,d=Array(b+1).join('0');return(d+a.random_number(c)).slice(-b)},a.getOrigin=function(a){a+='/';var b=a.split('/').slice(0,3);return b.join('/')},a.isSameOriginUrl=function(b,a){return a||(a=c.location.href),b.split('/').slice(0,3).join('/')===a.split('/').slice(0,3).join('/')},a.getParentDomain=function(a){if(/^[0-9.]*$/.test(a))return a;if(/^\[/.test(a))return a;if(!/[.]/.test(a))return a;var b=a.split('.').slice(1);return b.join('.')},a.objectExtend=function(c,b){for(var a in b)b.hasOwnProperty(a)&&(c[a]=b[a]);return c},g='_jp',a.polluteGlobalNamespace=function(){g in c||(c[g]={})},a.closeFrame=function(a,b){return'c'+JSON.stringify([a,b])},a.userSetCode=function(a){return a===1e3||a>=3e3&&a<=4999},a.countRTO=function(a){var b;return a>100?b=3*a:b=a+200,b},a.log=function(){c.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},a.bind=function(a,b){return a.bind?a.bind(b):function(){return a.apply(b,arguments)}},a.flatUrl=function(a){return a.indexOf('?')===-1&&a.indexOf('#')===-1},a.amendUrl=function(b){var c=d.location;if(!b)throw new Error('Wrong url for SockJS');if(!a.flatUrl(b))throw new Error('Only basic urls are supported in SockJS');return b.indexOf('//')===0&&(b=c.protocol+b),b.indexOf('/')===0&&(b=c.protocol+'//'+c.host+b),b=b.replace(/[/]+$/,''),b},a.arrIndexOf=function(b,c){for(var a=0;a<b.length;a++)if(b[a]===c)return a;return-1},a.arrSkip=function(b,e){var c=a.arrIndexOf(b,e);if(c===-1)return b.slice();else{var d=b.slice(0,c);return d.concat(b.slice(c+1))}},a.isArray=Array.isArray||function(a){return{}.toString.call(a).indexOf('Array')>=0},a.delay=function(a,b){return typeof a==='function'&&(b=a,a=0),setTimeout(b,a)},D=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,S={' ':'\\u0000','':'\\u0001','':'\\u0002','':'\\u0003','':'\\u0004','':'\\u0005','':'\\u0006','':'\\u0007','':'\\b','	':'\\t','\n':'\\n','':'\\u000b','':'\\f','\r':'\\r','':'\\u000e','':'\\u000f','':'\\u0010','':'\\u0011','':'\\u0012','':'\\u0013','':'\\u0014','':'\\u0015','':'\\u0016','':'\\u0017','':'\\u0018','':'\\u0019','':'\\u001a','':'\\u001b','':'\\u001c','':'\\u001d','':'\\u001e','':'\\u001f','"':'\\"','\\':'\\\\','':'\\u007f','':'\\u0080','':'\\u0081','':'\\u0082','':'\\u0083','':'\\u0084','':'\\u0085','':'\\u0086','':'\\u0087','':'\\u0088','':'\\u0089','':'\\u008a','':'\\u008b','':'\\u008c','':'\\u008d','':'\\u008e','':'\\u008f','':'\\u0090','':'\\u0091','':'\\u0092','':'\\u0093','':'\\u0094','':'\\u0095','':'\\u0096','':'\\u0097','':'\\u0098','':'\\u0099','':'\\u009a','':'\\u009b','':'\\u009c','':'\\u009d','':'\\u009e','':'\\u009f','­':'\\u00ad','؀':'\\u0600','؁':'\\u0601','؂':'\\u0602','؃':'\\u0603','؄':'\\u0604','܏':'\\u070f','឴':'\\u17b4','឵':'\\u17b5','‌':'\\u200c','‍':'\\u200d','‎':'\\u200e','‏':'\\u200f','\u2028':'\\u2028','\u2029':'\\u2029','‪':'\\u202a','‫':'\\u202b','‬':'\\u202c','‭':'\\u202d','‮':'\\u202e',' ':'\\u202f','⁠':'\\u2060','⁡':'\\u2061','⁢':'\\u2062','⁣':'\\u2063','⁤':'\\u2064','⁥':'\\u2065','⁦':'\\u2066','⁧':'\\u2067','⁨':'\\u2068','⁩':'\\u2069','⁪':'\\u206a','⁫':'\\u206b','⁬':'\\u206c','⁭':'\\u206d','⁮':'\\u206e','⁯':'\\u206f','﻿':'\\ufeff','￰':'\\ufff0','￱':'\\ufff1','￲':'\\ufff2','￳':'\\ufff3','￴':'\\ufff4','￵':'\\ufff5','￶':'\\ufff6','￷':'\\ufff7','￸':'\\ufff8','￹':'\\ufff9','￺':'\\ufffa','￻':'\\ufffb','￼':'\\ufffc','�':'\\ufffd','￾':'\\ufffe','￿':'\\uffff'},s=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,V=JSON&&JSON.stringify||function(a){return D.lastIndex=0,D.test(a)&&(a=a.replace(D,function(a){return S[a]})),'"'+a+'"'},a3=function(b){var a,c={},d=[];for(a=0;a<65536;a++)d.push(String.fromCharCode(a));return b.lastIndex=0,d.join('').replace(b,function(a){return c[a]='\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4),''}),b.lastIndex=0,c},a.quote=function(b){var a=V(b);return s.lastIndex=0,s.test(a)?(O||(O=a3(s)),a.replace(s,function(a){return O[a]})):a},E=['websocket','xdr-streaming','xhr-streaming','iframe-eventsource','iframe-htmlfile','xdr-polling','xhr-polling','iframe-xhr-polling','jsonp-polling'],a.probeProtocols=function(){var d={};for(var a=0;a<E.length;a++){var c=E[a];d[c]=b[c]&&b[c].enabled()}return d},a.detectProtocols=function(h,e,a){var b={},c=[];e||(e=E);for(var f=0;f<e.length;f++){var g=e[f];b[g]=h[g]}var d=function(a){var e=a.shift();b[e]?c.push(e):a.length>0&&d(a)};return a.websocket!==!1&&d(['websocket']),b['xhr-streaming']&&!a.null_origin?c.push('xhr-streaming'):b['xdr-streaming']&&!a.cookie_needed&&!a.null_origin?c.push('xdr-streaming'):d(['iframe-eventsource','iframe-htmlfile']),b['xhr-polling']&&!a.null_origin?c.push('xhr-polling'):b['xdr-polling']&&!a.cookie_needed&&!a.null_origin?c.push('xdr-polling'):d(['iframe-xhr-polling','jsonp-polling']),c},z='_sockjs_global',a.createHook=function(){var d='a'+a.random_string(8);if(!(z in c)){var b={};c[z]=function(a){return a in b||(b[a]={id:a,del:function(){delete b[a]}}),b[a]}}return c[z](d)},a.attachMessage=function(b){a.attachEvent('message',b)},a.attachEvent=function(a,b){c.addEventListener!==void 0?c.addEventListener(a,b,!1):(d.attachEvent('on'+a,b),c.attachEvent('on'+a,b))},a.detachMessage=function(b){a.detachEvent('message',b)},a.detachEvent=function(a,b){c.addEventListener!==void 0?c.removeEventListener(a,b,!1):(d.detachEvent('on'+a,b),c.detachEvent('on'+a,b))},n={},C=!1,Q=function(){for(var a in n)n[a](),delete n[a]},P=function(){if(C)return;C=!0,Q()},a.attachEvent('beforeunload',P),a.attachEvent('unload',P),a.unload_add=function(c){var b=a.random_string(8);return n[b]=c,C&&a.delay(Q),b},a.unload_del=function(a){a in n&&delete n[a]},a.createIframe=function(j,k){var b=d.createElement('iframe'),c,h,g=function(){clearTimeout(c);try{b.onload=null}catch(a){}b.onerror=null},e=function(){b&&(g(),setTimeout(function(){b&&b.parentNode.removeChild(b),b=null},0),a.unload_del(h))},f=function(a){b&&(e(),k(a))},i=function(a,c){try{b&&b.contentWindow&&b.contentWindow.postMessage(a,c)}catch(a){}};return b.src=j,b.style.display='none',b.style.position='absolute',b.onerror=function(){f('onerror')},b.onload=function(){clearTimeout(c),c=setTimeout(function(){f('onload timeout')},2e3)},d.body.appendChild(b),c=setTimeout(function(){f('timeout')},15e3),h=a.unload_add(e),{post:i,cleanup:e,loaded:g}},a.createHtmlfile=function(m,n){var b=new ActiveXObject('htmlfile'),j,i,d,h=function(){clearTimeout(j)},e=function(){b&&(h(),a.unload_del(i),d.parentNode.removeChild(d),d=b=null,CollectGarbage())},k=function(a){b&&(e(),n(a))},l=function(a,b){try{d&&d.contentWindow&&d.contentWindow.postMessage(a,b)}catch(a){}};b.open(),b.write('<html><script>document.domain="'+document.domain+'";'+'</s'+'cript></html>'),b.close(),b.parentWindow[g]=c[g];var f=b.createElement('div');return b.body.appendChild(f),d=b.createElement('iframe'),f.appendChild(d),d.src=m,j=setTimeout(function(){k('timeout')},15e3),i=a.unload_add(e),{post:l,cleanup:e,loaded:h}},p=function(){},p.prototype=new l(['chunk','finish']),p.prototype._start=function(g,e,h,d){var b=this;try{b.xhr=new XMLHttpRequest}catch(a){}if(!b.xhr)try{b.xhr=new c.ActiveXObject('Microsoft.XMLHTTP')}catch(a){}(c.ActiveXObject||c.XDomainRequest)&&(e+=(e.indexOf('?')===-1?'?t=':'&t=')+ +new Date),b.unload_ref=a.unload_add(function(){b._cleanup(!0)});try{b.xhr.open(g,e,!0)}catch(a){b.emit('finish',0,''),b._cleanup();return}if(d&&d.no_credentials||(b.xhr.withCredentials='true'),d&&d.headers)for(var f in d.headers)b.xhr.setRequestHeader(f,d.headers[f]);b.xhr.onreadystatechange=function(){if(b.xhr){var a=b.xhr;switch(a.readyState){case 3:try{var d=a.status,c=a.responseText}catch(a){}c&&c.length>0&&b.emit('chunk',d,c);break;case 4:b.emit('finish',a.status,a.responseText);b._cleanup(!1);break}}},b.xhr.send(h)},p.prototype._cleanup=function(c){var b=this;if(!b.xhr)return;if(a.unload_del(b.unload_ref),b.xhr.onreadystatechange=function(){},c)try{b.xhr.abort()}catch(a){}b.unload_ref=b.xhr=null},p.prototype.close=function(){var a=this;a.nuke(),a._cleanup(!0)},Z=a.XHRCorsObject=function(){var b=this,c=arguments;a.delay(function(){b._start.apply(b,c)})},Z.prototype=new p,a0=a.XHRLocalObject=function(c,d,e){var b=this;a.delay(function(){b._start(c,d,e,{no_credentials:!0})})},a0.prototype=new p,x=a.XDRObject=function(c,d,e){var b=this;a.delay(function(){b._start(c,d,e)})},x.prototype=new l(['chunk','finish']),x.prototype._start=function(f,d,g){var b=this,c=new XDomainRequest;d+=(d.indexOf('?')===-1?'?t=':'&t=')+ +new Date;var e=c.ontimeout=c.onerror=function(){b.emit('finish',0,''),b._cleanup(!1)};c.onprogress=function(){b.emit('chunk',200,c.responseText)},c.onload=function(){b.emit('finish',200,c.responseText),b._cleanup(!1)},b.xdr=c,b.unload_ref=a.unload_add(function(){b._cleanup(!0)});try{b.xdr.open(f,d),b.xdr.send(g)}catch(a){e()}},x.prototype._cleanup=function(c){var b=this;if(!b.xdr)return;if(a.unload_del(b.unload_ref),b.xdr.ontimeout=b.xdr.onerror=b.xdr.onprogress=b.xdr.onload=null,c)try{b.xdr.abort()}catch(a){}b.unload_ref=b.xdr=null},x.prototype.close=function(){var a=this;a.nuke(),a._cleanup(!0)},a.isXHRCorsCapable=function(){return c.XMLHttpRequest&&'withCredentials'in new XMLHttpRequest?1:c.XDomainRequest&&d.domain?2:e.enabled()?3:4},b=function(g,d,f){if(this===window)return new b(g,d,f);var c=this,e;c._options={devel:!1,debug:!1,protocols_whitelist:[],info:undefined,rtt:undefined},f&&a.objectExtend(c._options,f),c._base_url=a.amendUrl(g),c._server=c._options.server||a.random_number_string(1e3),c._options.protocols_whitelist&&c._options.protocols_whitelist.length?e=c._options.protocols_whitelist:(typeof d==='string'&&d.length>0?e=[d]:a.isArray(d)?e=d:e=null,e&&c._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),c._protocols=[],c.protocol=null,c.readyState=b.CONNECTING,c._ir=T(c._base_url),c._ir.onfinish=function(b,d){c._ir=null,b?(c._options.info&&(b=a.objectExtend(b,c._options.info)),c._options.rtt&&(d=c._options.rtt),c._applyInfo(b,d,e),c._didClose()):c._didClose(1002,"Can't connect to server",!0)}},b.prototype=new m,b.version='0.3.1.7.ga67f.dirty',b.CONNECTING=0,b.OPEN=1,b.CLOSING=2,b.CLOSED=3,b.prototype._debug=function(){this._options.debug&&a.log.apply(a,arguments)},b.prototype._dispatchOpen=function(){var a=this;a.readyState===b.CONNECTING?(a._transport_tref&&(clearTimeout(a._transport_tref),a._transport_tref=null),a.readyState=b.OPEN,a.dispatchEvent(new f('open'))):a._didClose(1006,'Server lost session')},b.prototype._dispatchMessage=function(c){var a=this;if(a.readyState!==b.OPEN)return;a.dispatchEvent(new f('message',{data:c}))},b.prototype._dispatchHeartbeat=function(c){var a=this;if(a.readyState!==b.OPEN)return;a.dispatchEvent(new f('heartbeat',{}))},b.prototype._didClose=function(e,g,h){var c=this;if(c.readyState!==b.CONNECTING&&c.readyState!==b.OPEN&&c.readyState!==b.CLOSING)throw new Error('INVALID_STATE_ERR');c._ir&&(c._ir.nuke(),c._ir=null),c._transport&&(c._transport.doCleanup(),c._transport=null);var d=new f('close',{code:e,reason:g,wasClean:a.userSetCode(e)});if(!a.userSetCode(e)&&c.readyState===b.CONNECTING&&!h){if(c._try_next_protocol(d))return;d=new f('close',{code:2e3,reason:'All transports failed',wasClean:!1,last_event:d})}c.readyState=b.CLOSED,a.delay(function(){c.dispatchEvent(d)})},b.prototype._didMessage=function(c){var b=this,e=c.slice(0,1);switch(e){case'o':b._dispatchOpen();break;case'a':var a=JSON.parse(c.slice(1)||'[]');for(var d=0;d<a.length;d++)b._dispatchMessage(a[d]);break;case'm':var a=JSON.parse(c.slice(1)||'null');b._dispatchMessage(a);break;case'c':var a=JSON.parse(c.slice(1)||'[]');b._didClose(a[0],a[1]);break;case'h':b._dispatchHeartbeat();break}},b.prototype._try_next_protocol=function(j){var c=this;c.protocol&&(c._debug('Closed transport:',c.protocol,''+j),c.protocol=null),c._transport_tref&&(clearTimeout(c._transport_tref),c._transport_tref=null);while(1){var e=c.protocol=c._protocols.shift();if(!e)return!1;if(b[e]&&b[e].need_body===!0&&(!d.body||d.readyState!==void 0&&d.readyState!=='complete'))return c._protocols.unshift(e),c.protocol='waiting-for-load',a.attachEvent('load',function(){c._try_next_protocol()}),!0;if(b[e]&&b[e].enabled(c._options)){var g=b[e].roundTrips||1,h=(c._options.rto||0)*g||5e3;c._transport_tref=a.delay(h,function(){c.readyState===b.CONNECTING&&c._didClose(2007,'Transport timeouted')});var i=a.random_string(8),f=c._base_url+'/'+c._server+'/'+i;return c._debug('Opening transport:',e,' url:'+f,' RTO:'+c._options.rto),c._transport=new b[e](c,f,c._base_url),!0}c._debug('Skipping transport:',e)}},b.prototype.close=function(d,e){var c=this;if(d&&!a.userSetCode(d))throw new Error('INVALID_ACCESS_ERR');return c.readyState!==b.CONNECTING&&c.readyState!==b.OPEN?!1:(c.readyState=b.CLOSING,c._didClose(d||1e3,e||'Normal closure'),!0)},b.prototype.send=function(d){var c=this;if(c.readyState===b.CONNECTING)throw new Error('INVALID_STATE_ERR');return c.readyState===b.OPEN&&c._transport.doSend(a.quote(''+d)),!0},b.prototype._applyInfo=function(c,e,g){var b=this;b._options.info=c,b._options.rtt=e,b._options.rto=a.countRTO(e),b._options.info.null_origin=!d.domain;var f=a.probeProtocols();b._protocols=a.detectProtocols(f,g,c)},t=b.websocket=function(f,g){var b=this,d=g+'/websocket';d.slice(0,5)==='https'?d='wss'+d.slice(5):d='ws'+d.slice(4),b.ri=f,b.url=d;var e=c.WebSocket||c.MozWebSocket;b.ws=new e(b.url),b.ws.onmessage=function(a){b.ri._didMessage(a.data)},b.unload_ref=a.unload_add(function(){b.ws.close()}),b.ws.onclose=function(){b.ri._didMessage(a.closeFrame(1006,'WebSocket connection broken'))}},t.prototype.doSend=function(a){this.ws.send('['+a+']')},t.prototype.doCleanup=function(){var b=this,c=b.ws;c&&(c.onmessage=c.onclose=null,c.close(),a.unload_del(b.unload_ref),b.unload_ref=b.ri=b.ws=null)},t.enabled=function(){return!!(c.WebSocket||c.MozWebSocket)},t.roundTrips=2,j=function(){},j.prototype.send_constructor=function(b){var a=this;a.send_buffer=[],a.sender=b},j.prototype.doSend=function(b){var a=this;a.send_buffer.push(b),a.send_stop||a.send_schedule()},j.prototype.send_schedule_wait=function(){var b=this,c;b.send_stop=function(){b.send_stop=null,clearTimeout(c)},c=a.delay(25,function(){b.send_stop=null,b.send_schedule()})},j.prototype.send_schedule=function(){var a=this;if(a.send_buffer.length>0){var b='['+a.send_buffer.join(',')+']';a.send_stop=a.sender(a.trans_url,b,function(){a.send_stop=null,a.send_schedule_wait()}),a.send_buffer=[]}},j.prototype.send_destructor=function(){var a=this;a._send_stop&&a._send_stop(),a._send_stop=null},X=function(i,j,k){var f=this;if(!('_send_form'in f)){var c=f._send_form=d.createElement('form'),e=f._send_area=d.createElement('textarea');e.name='d',c.style.display='none',c.style.position='absolute',c.method='POST',c.enctype='application/x-www-form-urlencoded',c.acceptCharset='UTF-8',c.appendChild(e),d.body.appendChild(c)}var c=f._send_form,e=f._send_area,g='a'+a.random_string(8);c.target=g,c.action=i+'/jsonp_send?i='+g;var b;try{b=d.createElement('<iframe name="'+g+'">')}catch(a){b=d.createElement('iframe'),b.name=g}b.id=g,c.appendChild(b),b.style.display='none';try{e.value=j}catch(b){a.log('Your browser is seriously broken. Go home! '+b.message)}c.submit();var h=function(c){if(!b.onerror)return;b.onreadystatechange=b.onerror=b.onload=null,a.delay(500,function(){b.parentNode.removeChild(b),b=null}),e.value='',k()};return b.onerror=b.onload=h,b.onreadystatechange=function(a){b.readyState=='complete'&&h()},h},R=function(a){return function(d,e,b){var c=new a('POST',d+'/xhr_send',e);return c.onfinish=function(a,c){b(a)},function(a){b(0,a)}}},$=function(k,i){var j,b=d.createElement('script'),c,e=function(a){c&&(c.parentNode.removeChild(c),c=null),b&&(clearTimeout(j),b.parentNode.removeChild(b),b.onreadystatechange=b.onerror=b.onload=b.onclick=null,b=null,i(a),i=null)},g=!1,h=null;if(b.id='a'+a.random_string(8),b.src=k,b.type='text/javascript',b.charset='UTF-8',b.onerror=function(b){h||(h=setTimeout(function(){g||e(a.closeFrame(1006,'JSONP script loaded abnormally (onerror)'))},1e3))},b.onload=function(b){e(a.closeFrame(1006,'JSONP script loaded abnormally (onload)'))},b.onreadystatechange=function(c){if(/loaded|closed/.test(b.readyState)){if(b&&b.htmlFor&&b.onclick){g=!0;try{b.onclick()}catch(a){}}b&&e(a.closeFrame(1006,'JSONP script loaded abnormally (onreadystatechange)'))}},b.async===void 0&&d.attachEvent)if(!/opera/i.test(navigator.userAgent)){try{b.htmlFor=b.id,b.event='onclick'}catch(a){}b.async=!0}else c=d.createElement('script'),c.text="try{var a = document.getElementById('"+b.id+"'); if(a)a.onerror();}catch(x){};",b.async=c.async=!1;b.async!==void 0&&(b.async=!0),j=setTimeout(function(){e(a.closeFrame(1006,'JSONP script loaded abnormally (timeout)'))},35e3);var f=d.getElementsByTagName('head')[0];return f.insertBefore(b,f.firstChild),c&&f.insertBefore(c,f.firstChild),e},r=b['jsonp-polling']=function(c,d){a.polluteGlobalNamespace();var b=this;b.ri=c,b.trans_url=d,b.send_constructor(X),b._schedule_recv()},r.prototype=new j,r.prototype._schedule_recv=function(){var a=this,b=function(b){a._recv_stop=null,b&&(a._is_closing||a.ri._didMessage(b)),a._is_closing||a._schedule_recv()};a._recv_stop=a1(a.trans_url+'/jsonp',$,b)},r.enabled=function(){return!0},r.need_body=!0,r.prototype.doCleanup=function(){var a=this;a._is_closing=!0,a._recv_stop&&a._recv_stop(),a.ri=a._recv_stop=null,a.send_destructor()},a1=function(i,j,k){var b='a'+a.random_string(6),d=i+'?c='+escape(g+'.'+b),e=function(a){delete c[g][b],k(a)},f=j(d,e);c[g][b]=f;var h=function(){c[g][b]&&c[g][b](a.closeFrame(1e3,'JSONP user aborted read'))};return h},i=function(){},i.prototype=new j,i.prototype.run=function(b,c,e,f,d){var a=this;a.ri=b,a.trans_url=c,a.send_constructor(R(d)),a.poll=new G(b,f,c+e,d)},i.prototype.doCleanup=function(){var a=this;a.poll&&(a.poll.abort(),a.poll=null)},q=b['xhr-streaming']=function(b,c){this.run(b,c,'/xhr_streaming',k,a.XHRCorsObject)},q.prototype=new i,q.enabled=function(){return c.XMLHttpRequest&&'withCredentials'in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},q.roundTrips=2,q.need_body=!0,u=b['xdr-streaming']=function(b,c){this.run(b,c,'/xhr_streaming',k,a.XDRObject)},u.prototype=new i,u.enabled=function(){return!!c.XDomainRequest},u.roundTrips=2,B=b['xhr-polling']=function(b,c){this.run(b,c,'/xhr',k,a.XHRCorsObject)},B.prototype=new i,B.enabled=q.enabled,B.roundTrips=2,J=b['xdr-polling']=function(b,c){this.run(b,c,'/xhr',k,a.XDRObject)},J.prototype=new i,J.enabled=u.enabled,J.roundTrips=2,e=function(){},e.prototype.i_constructor=function(e,f,d){var b=this;b.ri=e,b.origin=a.getOrigin(d),b.base_url=d,b.trans_url=f;var c=d+'/iframe.html';b.ri._options.devel&&(c+='?t='+ +new Date),b.window_id=a.random_string(8),c+='#'+b.window_id,b.iframeObj=a.createIframe(c,function(a){b.ri._didClose(1006,'Unable to load an iframe ('+a+')')}),b.onmessage_cb=a.bind(b.onmessage,b),a.attachMessage(b.onmessage_cb)},e.prototype.doCleanup=function(){var b=this;if(b.iframeObj){a.detachMessage(b.onmessage_cb);try{b.iframeObj.iframe.contentWindow&&b.postMessage('c')}catch(a){}b.iframeObj.cleanup(),b.iframeObj=null,b.onmessage_cb=b.iframeObj=null}},e.prototype.onmessage=function(c){var a=this;if(c.origin!==a.origin)return;var d=c.data.slice(0,8),e=c.data.slice(8,9),f=c.data.slice(9);if(d!==a.window_id)return;switch(e){case's':a.iframeObj.loaded();a.postMessage('s',JSON.stringify([b.version,a.protocol,a.trans_url,a.base_url]));break;case't':a.ri._didMessage(f);break}},e.prototype.postMessage=function(b,c){var a=this;a.iframeObj.post(a.window_id+b+(c||''),a.origin)},e.prototype.doSend=function(a){this.postMessage('m',a)},e.enabled=function(){var a=navigator&&navigator.userAgent&&navigator.userAgent.indexOf('Konqueror')!==-1;return(typeof c.postMessage==='function'||typeof c.postMessage==='object')&&!a},F=function(b,d){parent!==c?parent.postMessage(N+b+(d||''),'*'):a.log("Can't postMessage, no parent window.",b,d)},h=function(){},h.prototype._didClose=function(b,c){F('t',a.closeFrame(b,c))},h.prototype._didMessage=function(a){F('t',a)},h.prototype._doSend=function(a){this._transport.doSend(a)},h.prototype._doCleanup=function(){this._transport.doCleanup()},a.parent_origin=undefined,b.bootstrap_iframe=function(){var e;N=d.location.hash.slice(1);var f=function(d){if(d.source!==parent)return;if(a.parent_origin===void 0&&(a.parent_origin=d.origin),d.origin!==a.parent_origin)return;var l=d.data.slice(0,8),m=d.data.slice(8,9),j=d.data.slice(9);if(l!==N)return;switch(m){case's':var f=JSON.parse(j);var k=f[0];var n=f[1];var g=f[2];var i=f[3];k!==b.version&&a.log('Incompatibile SockJS! Main site uses: "'+k+'", the iframe:'+' "'+b.version+'".');if(!(a.flatUrl(g)&&a.flatUrl(i))){a.log('Only basic urls are supported in SockJS');return}if(!(a.isSameOriginUrl(g)&&a.isSameOriginUrl(i))){a.log("Can't connect to different domain from within an iframe. ("+JSON.stringify([c.location.href,g,i])+')');return}e=new h;e._transport=new h[n](e,g,i);break;case'm':e._doSend(j);break;case'c':e&&e._doCleanup();e=null;break}};a.attachMessage(f),F('s')},o=function(c,d){var b=this;a.delay(function(){b.doXhr(c,d)})},o.prototype=new l(['finish']),o.prototype.doXhr=function(f,g){var c=this,e=new Date().getTime(),b=new g('GET',f+'/info'),d=a.delay(8e3,function(){b.ontimeout()});b.onfinish=function(f,g){if(clearTimeout(d),d=null,f===200){var b=new Date().getTime()-e,a=JSON.parse(g);typeof a!=='object'&&(a={}),c.emit('finish',a,b)}else c.emit('finish')},b.ontimeout=function(){b.close(),c.emit('finish')}},L=function(f){var b=this,c=function(){var a=new e;a.protocol='w-iframe-info-receiver';var c=function(c){if(typeof c==='string'&&c.substr(0,1)==='m'){var d=JSON.parse(c.substr(1)),e=d[0],f=d[1];b.emit('finish',e,f)}else b.emit('finish');a.doCleanup(),a=null},d={_options:{},_didClose:c,_didMessage:c};a.i_constructor(d,f,f)};d.body?c():a.attachEvent('load',c)},L.prototype=new l(['finish']),K=function(){var b=this;a.delay(function(){b.emit('finish',{},2e3)})},K.prototype=new l(['finish']),T=function(b){if(a.isSameOriginUrl(b))return new o(b,a.XHRLocalObject);switch(a.isXHRCorsCapable()){case 1:return new o(b,a.XHRCorsObject);case 2:return new o(b,a.XDRObject);case 3:return new L(b);default:return new K}},U=h['w-iframe-info-receiver']=function(b,e,d){var c=new o(d,a.XHRLocalObject);c.onfinish=function(a,c){b._didMessage('m'+JSON.stringify([a,c])),b._didClose()}},U.prototype.doCleanup=function(){},y=b['iframe-eventsource']=function(){var a=this;a.protocol='w-iframe-eventsource',a.i_constructor.apply(a,arguments)},y.prototype=new e,y.enabled=function(){return'EventSource'in c&&e.enabled()},y.need_body=!0,y.roundTrips=3,W=h['w-iframe-eventsource']=function(b,c){this.run(b,c,'/eventsource',A,a.XHRLocalObject)},W.prototype=new i,w=b['iframe-xhr-polling']=function(){var a=this;a.protocol='w-iframe-xhr-polling',a.i_constructor.apply(a,arguments)},w.prototype=new e,w.enabled=function(){return c.XMLHttpRequest&&e.enabled()},w.need_body=!0,w.roundTrips=3,Y=h['w-iframe-xhr-polling']=function(b,c){this.run(b,c,'/xhr',k,a.XHRLocalObject)},Y.prototype=new i,v=b['iframe-htmlfile']=function(){var a=this;a.protocol='w-iframe-htmlfile',a.i_constructor.apply(a,arguments)},v.prototype=new e,v.enabled=function(){return e.enabled()},v.need_body=!0,v.roundTrips=3,_=h['w-iframe-htmlfile']=function(b,c){this.run(b,c,'/htmlfile',H,a.XHRLocalObject)},_.prototype=new i,G=function(b,c,d,e){var a=this;a.ri=b,a.Receiver=c,a.recv_url=d,a.AjaxObject=e,a._scheduleRecv()},G.prototype._scheduleRecv=function(){var a=this,b=a.poll=new a.Receiver(a.recv_url,a.AjaxObject),c=0;b.onmessage=function(b){c+=1,a.ri._didMessage(b.data)},b.onclose=function(c){a.poll=b=b.onmessage=b.onclose=null,a.poll_is_closing||(c.reason==='permanent'?a.ri._didClose(1006,'Polling error ('+c.reason+')'):a._scheduleRecv())}},G.prototype.abort=function(){var a=this;a.poll_is_closing=!0,a.poll&&a.poll.abort()},A=function(d){var c=this,b=new EventSource(d);b.onmessage=function(a){c.dispatchEvent(new f('message',{data:unescape(a.data)}))},c.es_close=b.onerror=function(g,e){var d=e?'user':b.readyState!==2?'network':'permanent';c.es_close=b.onmessage=b.onerror=null,b.close(),b=null,a.delay(200,function(){c.dispatchEvent(new f('close',{reason:d}))})}},A.prototype=new m,A.prototype.abort=function(){var a=this;a.es_close&&a.es_close({},!0)},a2=function(){if(I===undefined)if('ActiveXObject'in c)try{I=!!new ActiveXObject('htmlfile')}catch(a){}else I=!1;return I},H=function(e){var b=this;a.polluteGlobalNamespace(),b.id='a'+a.random_string(6,26),e+=(e.indexOf('?')===-1?'?c=':'&c=')+escape(g+'.'+b.id);var h=a2()?a.createHtmlfile:a.createIframe,d;c[g][b.id]={start:function(){d.loaded()},message:function(a){b.dispatchEvent(new f('message',{data:a}))},stop:function(){b.iframe_close({},'network')}},b.iframe_close=function(e,a){d.cleanup(),b.iframe_close=d=null,delete c[g][b.id],b.dispatchEvent(new f('close',{reason:a}))},d=h(e,function(a){b.iframe_close({},'permanent')})},H.prototype=new m,H.prototype.abort=function(){var a=this;a.iframe_close&&a.iframe_close({},'user')},k=function(c,d){var a=this,b=0;a.xo=new d('POST',c,null),a.xo.onchunk=function(g,h){if(g!==200)return;while(1){var d=h.slice(b),c=d.indexOf('\n');if(c===-1)break;b+=c+1;var e=d.slice(0,c);a.dispatchEvent(new f('message',{data:e}))}},a.xo.onfinish=function(b,d){a.xo.onchunk(b,d),a.xo=null;var c=b===200?'network':'permanent';a.dispatchEvent(new f('close',{reason:c}))}},k.prototype=new m,k.prototype.abort=function(){var a=this;a.xo&&(a.xo.close(),a.dispatchEvent(new f('close',{reason:'user'})),a.xo=null)},b.getUtils=function(){return a},b.getIframeTransport=function(){return e},b}();'_sockjs_onload'in window&&setTimeout(_sockjs_onload,1),typeof define==='function'&&define.amd&&define('sockjs',[],function(){return SockJS}),typeof module==='object'&&module&&module.exports&&(module.exports=SockJS)},{}],26:[function(a,b,c){b.exports=a('./lib/index.js')},{'./lib/index.js':27}],27:[function(b,e,f){function a(b){return new a.Terminal(b)}var c=b('__browserify_Buffer').Buffer,d='/../../node_modules/term.js/lib';a.middleware=function(d){var e=b('url');return d=d||{},d.path=d.path||'/term.js',function(f,b,g){if(e.parse(f.url).pathname!==d.path)return g();if(+new Date(f.headers['if-modified-since'])===a.last){b.statusCode=304,b.end();return}b.writeHead(200,{'Content-Type':'application/javascript; charset=utf-8','Content-Length':c.byteLength(a.script),'Last-Modified':a.last}),b.end(a.script)}},a.path=d+'/../src/term.js',a.__defineGetter__('script',function(){return a._script?a._script:(a.last=+new Date,a._script=b('fs').readFileSync(a.path,'utf8'))}),a.__defineGetter__('Terminal',function(){return a._Terminal?a._Terminal:a._Terminal=b('../src/term')}),e.exports=a},{'../src/term':28,__browserify_Buffer:13,fs:8,url:11}],28:[function(c,a,d){var b=self;(function(){'use strict';function f(){this._events=this._events||{}}function b(a){var c=this;if(!(this instanceof b))return new b(arguments[0],arguments[1],arguments[2]);f.call(this),typeof a==='number'&&(a={cols:arguments[0],rows:arguments[1],handler:arguments[2]}),a=a||{},v(t(b.defaults),function(d){a[d]==null&&(a[d]=b.options[d],b[d]!==b.defaults[d]&&(a[d]=b[d])),c[d]=a[d]}),a.colors.length===8?a.colors=a.colors.concat(b._colors.slice(8)):a.colors.length===16?a.colors=a.colors.concat(b._colors.slice(16)):a.colors.length===10?a.colors=a.colors.slice(0,-2).concat(b._colors.slice(8,-2),a.colors.slice(-2)):a.colors.length===18&&(a.colors=a.colors.concat(b._colors.slice(16,-2),a.colors.slice(-2))),this.colors=a.colors,this.options=a,this.parent=a.body||a.parent||(l?l.getElementsByTagName('body')[0]:null),this.cols=a.cols||a.geometry[0],this.rows=a.rows||a.geometry[1],a.handler&&this.on('data',a.handler),this.ybase=0,this.ydisp=0,this.x=0,this.y=0,this.cursorState=0,this.cursorHidden=!1,this.convertEol,this.state=0,this.queue='',this.scrollTop=0,this.scrollBottom=this.rows-1,this.applicationKeypad=!1,this.applicationCursor=!1,this.originMode=!1,this.insertMode=!1,this.wraparoundMode=!1,this.normal=null,this.prefixMode=!1,this.selectMode=!1,this.visualMode=!1,this.searchMode=!1,this.searchDown,this.entry='',this.entryPrefix='Search: ',this._real,this._selected,this._textarea,this.charset=null,this.gcharset=null,this.glevel=0,this.charsets=[null],this.decLocator,this.x10Mouse,this.vt200Mouse,this.vt300Mouse,this.normalMouse,this.mouseEvents,this.sendFocus,this.utfMouse,this.sgrMouse,this.urxvtMouse,this.element,this.children,this.refreshStart,this.refreshEnd,this.savedX,this.savedY,this.savedCols,this.readable=!0,this.writable=!0,this.defAttr=131840,this.curAttr=this.defAttr,this.params=[],this.currentParam=0,this.prefix='',this.postfix='',this.lines=[];var d=this.rows;while(d--)this.lines.push(this.blankLine());this.tabs,this.setupStops()}function e(a,b,c,d){a.addEventListener(b,c,d||!1)}function q(a,b,c,d){a.removeEventListener(b,c,d||!1)}function d(a){return a.preventDefault&&a.preventDefault(),a.returnValue=!1,a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0,!1}function u(a,c){function b(){this.constructor=a}b.prototype=c.prototype,a.prototype=new b}function x(c){var b=c.getElementsByTagName('body')[0],a=c.createElement('span');a.innerHTML='hello world',b.appendChild(a);var d=a.scrollWidth;a.style.fontWeight='bold';var e=a.scrollWidth;return b.removeChild(a),d!==e}function w(b,c){var a=b.length;while(a--)if(b[a]===c)return a;return-1}function m(a){return a<='＀'?!1:a>='！'&&a<='ﾾ'||a>='ￂ'&&a<='ￇ'||a>='ￊ'&&a<='ￏ'||a>='ￒ'&&a<='ￗ'||a>='ￚ'&&a<='ￜ'||a>='￠'&&a<='￦'||a>='￨'&&a<='￮'}function i(h,k,j){var f=h<<16|k<<8|j;if(i._cache[f]!=null)return i._cache[f];var g=Infinity,c=-1,a=0,d,l,m,n,e;for(;a<b.vcolors.length;a++){if(d=b.vcolors[a],l=d[0],m=d[1],n=d[2],e=i.distance(h,k,j,l,m,n),e===0){c=a;break}e<g&&(g=e,c=a)}return i._cache[f]=c}function v(a,c,d){if(a.forEach)return a.forEach(c,d);for(var b=0;b<a.length;b++)c.call(d,a[b],b,a)}function t(a){if(Object.keys)return Object.keys(a);var b,c=[];for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c.push(b);return c}var l=this.document;f.prototype.addListener=function(a,b){this._events[a]=this._events[a]||[],this._events[a].push(b)},f.prototype.on=f.prototype.addListener,f.prototype.removeListener=function(c,d){if(!this._events[c])return;var a=this._events[c],b=a.length;while(b--)if(a[b]===d||a[b].listener===d){a.splice(b,1);return}},f.prototype.off=f.prototype.removeListener,f.prototype.removeAllListeners=function(a){this._events[a]&&delete this._events[a]},f.prototype.once=function(b,c){function a(){var d=Array.prototype.slice.call(arguments);return this.removeListener(b,a),c.apply(this,d)}return a.listener=c,this.on(b,a)},f.prototype.emit=function(c){if(!this._events[c])return;var d=Array.prototype.slice.call(arguments,1),b=this._events[c],e=b.length,a=0;for(;a<e;a++)b[a].apply(this,d)},f.prototype.listeners=function(a){return this._events[a]=this._events[a]||[]};var c=0,n=1,o=2,p=3,k=4,r=5,j=6;u(b,f),b.prototype.eraseAttr=function(){return this.defAttr&-512|this.curAttr&511},b.tangoColors=['#2e3436','#cc0000','#4e9a06','#c4a000','#3465a4','#75507b','#06989a','#d3d7cf','#555753','#ef2929','#8ae234','#fce94f','#729fcf','#ad7fa8','#34e2e2','#eeeeec'],b.xtermColors=['#000000','#cd0000','#00cd00','#cdcd00','#0000ee','#cd00cd','#00cdcd','#e5e5e5','#7f7f7f','#ff0000','#00ff00','#ffff00','#5c5cff','#ff00ff','#00ffff','#ffffff'],b.colors=function(d,c,a){function f(a,b,c){d.push('#'+e(a)+e(b)+e(c))}function e(a){return a=a.toString(16),a.length<2?'0'+a:a}for(d=b.tangoColors.slice(),c=[0,95,135,175,215,255],a=0;a<216;a++)f(c[a/36%6|0],c[a/6%6|0],c[a%6]);for(a=0;a<24;a++)c=8+a*10,f(c,c,c);return d}(),b.colors[256]='#000000',b.colors[257]='#f0f0f0',b._colors=b.colors.slice(),b.vcolors=function(d,e,a,c){for(d=[],e=b.colors,a=0;a<256;a++)c=parseInt(e[a].substring(1),16),d.push([c>>16&255,c>>8&255,c&255]);return d}(),b.defaults={colors:b.colors,convertEol:!1,termName:'xterm',geometry:[80,24],cursorBlink:!0,visualBell:!1,popOnBell:!1,scrollback:1e3,screenKeys:!1,debug:!1,useStyle:!1},b.options={},v(t(b.defaults),function(a){b[a]=b.defaults[a],b.options[a]=b.defaults[a]}),b.focus=null,b.prototype.focus=function(){if(b.focus===this)return;b.focus&&b.focus.blur(),this.sendFocus&&this.send('[I'),this.showCursor(),b.focus=this},b.prototype.blur=function(){if(b.focus!==this)return;this.cursorState=0,this.refresh(this.y,this.y),this.sendFocus&&this.send('[O'),b.focus=null},b.prototype.initGlobal=function(){var a=this.document;if(b._boundDocs=b._boundDocs||[],~w(b._boundDocs,a))return;b._boundDocs.push(a),b.bindPaste(a),b.bindKeys(a),b.bindCopy(a),(this.isIpad||this.isIphone)&&b.fixIpad(a),this.useStyle&&b.insertStyle(a,this.colors[256],this.colors[257])},b.bindPaste=function(c){var a=c.defaultView;e(a,'paste',function(c){var a=b.focus;return a?(c.clipboardData?a.send(c.clipboardData.getData('text/plain')):a.context.clipboardData&&a.send(a.context.clipboardData.getData('Text')),a.element.contentEditable='inherit',d(c)):void 0})},b.bindKeys=function(a){e(a,'keydown',function(c){if(!b.focus)return;var a=c.target||c.srcElement;return a?a===b.focus.element||a===b.focus.context||a===b.focus.document||a===b.focus.body||a===b._textarea||a===b.focus.parent?b.focus.keyDown(c):void 0:void 0},!0),e(a,'keypress',function(c){if(!b.focus)return;var a=c.target||c.srcElement;return a?a===b.focus.element||a===b.focus.context||a===b.focus.document||a===b.focus.body||a===b._textarea||a===b.focus.parent?b.focus.keyPress(c):void 0:void 0},!0),e(a,'mousedown',function(c){if(!b.focus)return;var a=c.target||c.srcElement;if(!a)return;do if(a===b.focus.element)return;while(a=a.parentNode);b.focus.blur()})},b.bindCopy=function(c){var a=c.defaultView;e(a,'copy',function(e){var a=b.focus;if(!a)return;if(!a._selected)return;var c=a.getCopyTextarea(),d=a.grabText(a._selected.x1,a._selected.x2,a._selected.y1,a._selected.y2);a.emit('copy',d),c.focus(),c.textContent=d,c.value=d,c.setSelectionRange(0,d.length),h(function(){a.element.focus(),a.focus()},1)})},b.fixIpad=function(c){var a=c.createElement('textarea');a.style.position='absolute',a.style.left='-32000px',a.style.top='-32000px',a.style.width='0px',a.style.height='0px',a.style.opacity='0',a.style.backgroundColor='transparent',a.style.borderStyle='none',a.style.outlineStyle='none',a.autocapitalize='none',a.autocorrect='off',c.getElementsByTagName('body')[0].appendChild(a),b._textarea=a,h(function(){a.focus()},1e3)},b.insertStyle=function(c,d,e){var a=c.getElementById('term-style');if(a)return;var b=c.getElementsByTagName('head')[0];if(!b)return;var a=c.createElement('style');a.id='term-style',a.innerHTML='.terminal {\n  float: left;\n  border: '+d+' solid 5px;\n'+'  font-family: "DejaVu Sans Mono", "Liberation Mono", monospace;\n'+'  font-size: 11px;\n'+'  color: '+e+';\n'+'  background: '+d+';\n'+'}\n'+'\n'+'.terminal-cursor {\n'+'  color: '+d+';\n'+'  background: '+e+';\n'+'}\n',b.insertBefore(a,b.firstChild)},b.prototype.open=function(f){var a=this,c=0,d;if(this.parent=f||this.parent,!this.parent)throw new Error('Terminal requires a parent element.');for(this.context=this.parent.ownerDocument.defaultView,this.document=this.parent.ownerDocument,this.body=this.document.getElementsByTagName('body')[0],this.context.navigator&&this.context.navigator.userAgent&&(this.isMac=!!~this.context.navigator.userAgent.indexOf('Mac'),this.isIpad=!!~this.context.navigator.userAgent.indexOf('iPad'),this.isIphone=!!~this.context.navigator.userAgent.indexOf('iPhone'),this.isMSIE=!!~this.context.navigator.userAgent.indexOf('MSIE')),this.element=this.document.createElement('div'),this.element.className='terminal',this.element.style.outline='none',this.element.setAttribute('tabindex',0),this.element.style.backgroundColor=this.colors[256],this.element.style.color=this.colors[257],this.children=[];c<this.rows;c++)d=this.document.createElement('div'),this.element.appendChild(d),this.children.push(d);this.parent.appendChild(this.element),this.refresh(0,this.rows-1),this.initGlobal(),this.focus(),this.startBlink(),e(this.element,'focus',function(){a.focus(),(a.isIpad||a.isIphone)&&b._textarea.focus()}),e(this.element,'mousedown',function(){a.focus()}),e(this.element,'mousedown',function(c){var b=c.button!=null?+c.button:c.which!=null?c.which-1:null;if(a.isMSIE&&(b=b===1?0:b===4?1:b),b!==2)return;a.element.contentEditable='true',h(function(){a.element.contentEditable='inherit'},1)},!0),this.bindMouse(),b.brokenBold==null&&(b.brokenBold=x(this.document)),h(function(){a.element.focus()},100)},b.prototype.bindMouse=function(){function c(a){var c,d;if(c=m(a),d=l(a),!d)return;k(c,d);switch(a.type){case'mousedown':h=c;break;case'mouseup':h=32;break;case b:break}}function j(c){var a=h,b;if(b=l(c),!b)return;a+=32,k(a,b)}function i(c,b){if(!a.utfMouse){if(b===255)return c.push(0);b>127&&(b=127),c.push(b)}else{if(b===2047)return c.push(0);b<127?c.push(b):(b>2047&&(b=2047),c.push(192|b>>6),c.push(128|b&63))}}function k(b,c){if(a.vt300Mouse){b&=3,c.x-=32,c.y-=32;var d='[24';if(b===0)d+='1';else if(b===1)d+='3';else if(b===2)d+='5';else if(b===3)return;else d+='0';d+='~['+c.x+','+c.y+']\r',a.send(d);return}if(a.decLocator){b&=3,c.x-=32,c.y-=32,b===0?b=2:b===1?b=4:b===2?b=6:b===3&&(b=3),a.send('['+b+';'+(b===3?4:0)+';'+c.y+';'+c.x+';'+(c.page||0)+'&w');return}if(a.urxvtMouse){c.x-=32,c.y-=32,c.x++,c.y++,a.send('['+b+';'+c.x+';'+c.y+'M');return}if(a.sgrMouse){c.x-=32,c.y-=32,a.send('[<'+((b&3)===3?b&-4:b)+';'+c.x+';'+c.y+((b&3)===3?'m':'M'));return}var d=[];i(d,b),i(d,c.x),i(d,c.y),a.send('[M'+g.fromCharCode.apply(g,d))}function m(c){var b,f,g,e,d;switch(c.type){case'mousedown':b=c.button!=null?+c.button:c.which!=null?c.which-1:null;a.isMSIE&&(b=b===1?0:b===4?1:b);break;case'mouseup':b=3;break;case'DOMMouseScroll':b=c.detail<0?64:65;break;case'mousewheel':b=c.wheelDeltaY>0?64:65;break}return f=c.shiftKey?4:0,g=c.metaKey?8:0,e=c.ctrlKey?16:0,d=f|g|e,a.vt200Mouse?d&=e:a.normalMouse||(d=0),b=32+(d<<2)+b,b}function l(f){var c,d,g,h,e;if(f.pageX==null)return;c=f.pageX,d=f.pageY,e=a.element;while(e&&e!==a.document.documentElement)c-=e.offsetLeft,d-=e.offsetTop,e='offsetParent'in e?e.offsetParent:e.parentNode;return g=a.element.clientWidth,h=a.element.clientHeight,c=Math.round(c/g*a.cols),d=Math.round(d/h*a.rows),c<0&&(c=0),c>a.cols&&(c=a.cols),d<0&&(d=0),d>a.rows&&(d=a.rows),c+=32,d+=32,{x:c,y:d,type:f.type===b?'mousewheel':f.type}}var f=this.element,a=this,h=32,b='onmousewheel'in this.context?'mousewheel':'DOMMouseScroll';e(f,'mousedown',function(b){return a.mouseEvents?(c(b),a.focus(),a.vt200Mouse?(c({__proto__:b,type:'mouseup'}),d(b)):(a.normalMouse&&e(a.document,'mousemove',j),a.x10Mouse||e(a.document,'mouseup',function b(e){return c(e),a.normalMouse&&q(a.document,'mousemove',j),q(a.document,'mouseup',b),d(e)}),d(b))):void 0}),e(f,b,function(b){return a.mouseEvents?a.x10Mouse||a.vt300Mouse||a.decLocator?void 0:(c(b),d(b)):void 0}),e(f,b,function(b){return a.mouseEvents?void 0:a.applicationKeypad?void 0:(b.type==='DOMMouseScroll'?a.scrollDisp(b.detail<0?-5:5):a.scrollDisp(b.wheelDeltaY>0?-5:5),d(b))})},b.prototype.destroy=function(){this.readable=!1,this.writable=!1,this._events={},this.handler=function(){},this.write=function(){},this.element.parentNode&&this.element.parentNode.removeChild(this.element)},b.prototype.refresh=function(q,l){var o,g,f,n,a,h,p,c,j,k,e,d,r,i;for(l-q>=this.rows/2&&(i=this.element.parentNode,i&&i.removeChild(this.element)),p=this.cols,g=q,l>=this.lines.length&&(this.log('`end` is too large. Most likely a bad CSR.'),l=this.lines.length-1);g<=l;g++){for(r=g+this.ydisp,n=this.lines[r],a='',g===this.y&&this.cursorState&&(this.ydisp===this.ybase||this.selectMode)&&!this.cursorHidden?o=this.x:o=-1,j=this.defAttr,f=0;f<p;f++){c=n[f][0],h=n[f][1],f===o&&(c=-1),c!==j&&(j!==this.defAttr&&(a+='</span>'),c!==this.defAttr)&&(c===-1?a+='<span class="reverse-video terminal-cursor">':(a+='<span style="',k=c&511,e=c>>9&511,d=c>>18,d&1&&(b.brokenBold||(a+='font-weight:bold;'),e<8&&(e+=8)),d&2&&(a+='text-decoration:underline;'),d&4&&(d&2?(a=a.slice(0,-1),a+=' blink;'):a+='text-decoration:blink;'),d&8&&(k=c>>9&511,e=c&511,d&1&&e<8&&(e+=8)),d&16&&(a+='visibility:hidden;'),k!==256&&(a+='background-color:'+this.colors[k]+';'),e!==257&&(a+='color:'+this.colors[e]+';'),a+='">'));switch(h){case'&':a+='&amp;';break;case'<':a+='&lt;';break;case'>':a+='&gt;';break;default:h<=' '?a+='&nbsp;':(m(h)&&f++,a+=h);break}j=c}j!==this.defAttr&&(a+='</span>'),this.children[g].innerHTML=a}i&&i.appendChild(this.element)},b.prototype._cursorBlink=function(){if(b.focus!==this)return;this.cursorState^=1,this.refresh(this.y,this.y)},b.prototype.showCursor=function(){this.cursorState||(this.cursorState=1,this.refresh(this.y,this.y))},b.prototype.startBlink=function(){if(!this.cursorBlink)return;var a=this;this._blinker=function(){a._cursorBlink()},this._blink=s(this._blinker,500)},b.prototype.refreshBlink=function(){if(!this.cursorBlink)return;clearInterval(this._blink),this._blink=s(this._blinker,500)},b.prototype.scroll=function(){var a;++this.ybase===this.scrollback&&(this.ybase=this.ybase/2|0,this.lines=this.lines.slice(-(this.ybase+this.rows)+1)),this.ydisp=this.ybase,a=this.ybase+this.rows-1,a-=this.rows-1-this.scrollBottom,a===this.lines.length?this.lines.push(this.blankLine()):this.lines.splice(a,0,this.blankLine()),this.scrollTop!==0&&(this.ybase!==0&&(this.ybase--,this.ydisp=this.ybase),this.lines.splice(this.ybase+this.scrollTop,1)),this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},b.prototype.scrollDisp=function(a){this.ydisp+=a,this.ydisp>this.ybase?this.ydisp=this.ybase:this.ydisp<0&&(this.ydisp=0),this.refresh(0,this.rows-1)},b.prototype.write=function(i){var l=i.length,f=0,h,d,a;for(this.refreshStart=this.y,this.refreshEnd=this.y,this.ybase!==this.ydisp&&(this.ydisp=this.ybase,this.maxRange());f<l;f++){a=i[f];switch(this.state){case c:switch(a){case'':this.bell();break;case'\n':case'':case'':this.convertEol&&(this.x=0);this.y++;this.y>this.scrollBottom&&(this.y--,this.scroll());break;case'\r':this.x=0;break;case'':this.x>0&&this.x--;break;case'	':this.x=this.nextStop();break;case'':this.setgLevel(1);break;case'':this.setgLevel(0);break;case'':this.state=n;break;default:if(a>=' '&&(this.charset&&this.charset[a]&&(a=this.charset[a]),this.x>=this.cols&&(this.x=0,this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll())),this.lines[this.y+this.ybase][this.x]=[this.curAttr,a],this.x++,this.updateRange(this.y),m(a))){if(h=this.y+this.ybase,this.cols<2||this.x>=this.cols){this.lines[h][this.x-1]=[this.curAttr,' '];break}this.lines[h][this.x]=[this.curAttr,' '],this.x++}break}break;case n:switch(a){case'[':this.params=[];this.currentParam=0;this.state=o;break;case']':this.params=[];this.currentParam=0;this.state=p;break;case'P':this.params=[];this.currentParam=0;this.state=r;break;case'_':this.state=j;break;case'^':this.state=j;break;case'c':this.reset();break;case'E':this.x=0;case'D':this.index();break;case'M':this.reverseIndex();break;case'%':this.setgLevel(0);this.setgCharset(0,b.charsets.US);this.state=c;f++;break;case'(':case')':case'*':case'+':case'-':case'.':switch(a){case'(':this.gcharset=0;break;case')':this.gcharset=1;break;case'*':this.gcharset=2;break;case'+':this.gcharset=3;break;case'-':this.gcharset=1;break;case'.':this.gcharset=2;break}this.state=k;break;case'/':this.gcharset=3;this.state=k;f--;break;case'N':break;case'O':break;case'n':this.setgLevel(2);break;case'o':this.setgLevel(3);break;case'|':this.setgLevel(3);break;case'}':this.setgLevel(2);break;case'~':this.setgLevel(1);break;case'7':this.saveCursor();this.state=c;break;case'8':this.restoreCursor();this.state=c;break;case'#':this.state=c;f++;break;case'H':this.tabSet();break;case'=':this.log('Serial port requested application keypad.');this.applicationKeypad=!0;this.state=c;break;case'>':this.log('Switching back to normal keypad.');this.applicationKeypad=!1;this.state=c;break;default:this.state=c;this.error('Unknown ESC control: %s.',a);break}break;case k:switch(a){case'0':d=b.charsets.SCLD;break;case'A':d=b.charsets.UK;break;case'B':d=b.charsets.US;break;case'4':d=b.charsets.Dutch;break;case'C':case'5':d=b.charsets.Finnish;break;case'R':d=b.charsets.French;break;case'Q':d=b.charsets.FrenchCanadian;break;case'K':d=b.charsets.German;break;case'Y':d=b.charsets.Italian;break;case'E':case'6':d=b.charsets.NorwegianDanish;break;case'Z':d=b.charsets.Spanish;break;case'H':case'7':d=b.charsets.Swedish;break;case'=':d=b.charsets.Swiss;break;case'/':d=b.charsets.ISOLatin;f++;break;default:d=b.charsets.US;break}this.setgCharset(this.gcharset,d);this.gcharset=null;this.state=c;break;case p:if(a===''||a===''){a===''&&f++,this.params.push(this.currentParam);switch(this.params[0]){case 0:case 1:case 2:this.params[1]&&(this.title=this.params[1],this.handleTitle(this.title));break;case 3:break;case 4:case 5:break;case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:break;case 46:break;case 50:break;case 51:break;case 52:break;case 104:case 105:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:break}this.params=[],this.currentParam=0,this.state=c}else this.params.length?this.currentParam+=a:a>='0'&&a<='9'?this.currentParam=this.currentParam*10+a.charCodeAt(0)-48:a===';'&&(this.params.push(this.currentParam),this.currentParam='');break;case o:if(a==='?'||a==='>'||a==='!'){this.prefix=a;break}if(a>='0'&&a<='9'){this.currentParam=this.currentParam*10+a.charCodeAt(0)-48;break}if(a==='$'||a==='"'||a===' '||a==="'"){this.postfix=a;break}this.params.push(this.currentParam);this.currentParam=0;if(a===';')break;this.state=c;switch(a){case'A':this.cursorUp(this.params);break;case'B':this.cursorDown(this.params);break;case'C':this.cursorForward(this.params);break;case'D':this.cursorBackward(this.params);break;case'H':this.cursorPos(this.params);break;case'J':this.eraseInDisplay(this.params);break;case'K':this.eraseInLine(this.params);break;case'm':this.prefix||this.charAttributes(this.params);break;case'n':this.prefix||this.deviceStatus(this.params);break;case'@':this.insertChars(this.params);break;case'E':this.cursorNextLine(this.params);break;case'F':this.cursorPrecedingLine(this.params);break;case'G':this.cursorCharAbsolute(this.params);break;case'L':this.insertLines(this.params);break;case'M':this.deleteLines(this.params);break;case'P':this.deleteChars(this.params);break;case'X':this.eraseChars(this.params);break;case'`':this.charPosAbsolute(this.params);break;case'a':this.HPositionRelative(this.params);break;case'c':this.sendDeviceAttributes(this.params);break;case'd':this.linePosAbsolute(this.params);break;case'e':this.VPositionRelative(this.params);break;case'f':this.HVPosition(this.params);break;case'h':this.setMode(this.params);break;case'l':this.resetMode(this.params);break;case'r':this.setScrollRegion(this.params);break;case's':this.saveCursor(this.params);break;case'u':this.restoreCursor(this.params);break;case'I':this.cursorForwardTab(this.params);break;case'S':this.scrollUp(this.params);break;case'T':this.params.length<2&&!this.prefix&&this.scrollDown(this.params);break;case'Z':this.cursorBackwardTab(this.params);break;case'b':this.repeatPrecedingCharacter(this.params);break;case'g':this.tabClear(this.params);break;case'p':switch(this.prefix){case'!':this.softReset(this.params);break}break;default:this.error('Unknown CSI code: %s.',a);break}this.prefix='';this.postfix='';break;case r:if(a===''||a===''){a===''&&f++;switch(this.prefix){case'':break;case'$q':var e=this.currentParam,g=!1;switch(e){case'"q':e='0"q';break;case'"p':e='61"p';break;case'r':e=''+(this.scrollTop+1)+';'+(this.scrollBottom+1)+'r';break;case'm':e='0m';break;default:this.error('Unknown DCS Pt: %s.',e);e='';break}this.send('P'+ +g+'$r'+e+'\\');break;case'+p':break;case'+q':var e=this.currentParam,g=!1;this.send('P'+ +g+'+r'+e+'\\');break;default:this.error('Unknown DCS prefix: %s.',this.prefix);break}this.currentParam=0,this.prefix='',this.state=c}else this.currentParam?this.currentParam+=a:!this.prefix&&a!=='$'&&a!=='+'?this.currentParam=a:this.prefix.length===2?this.currentParam=a:this.prefix+=a;break;case j:(a===''||a==='')&&(a===''&&f++,this.state=c);break}}this.updateRange(this.y),this.refresh(this.refreshStart,this.refreshEnd)},b.prototype.writeln=function(a){this.write(a+'\r\n')},b.prototype.keyDown=function(b){var c=this,a;switch(b.keyCode){case 8:if(b.shiftKey){a='';break}a='';break;case 9:if(b.shiftKey){a='[Z';break}a='	';break;case 13:a='\r';break;case 27:a='';break;case 37:if(this.applicationCursor){a='OD';break}a='[D';break;case 39:if(this.applicationCursor){a='OC';break}a='[C';break;case 38:if(this.applicationCursor){a='OA';break}if(b.ctrlKey)return this.scrollDisp(-1),d(b);a='[A';break;case 40:if(this.applicationCursor){a='OB';break}if(b.ctrlKey)return this.scrollDisp(1),d(b);a='[B';break;case 46:a='[3~';break;case 45:a='[2~';break;case 36:if(this.applicationKeypad){a='OH';break}a='OH';break;case 35:if(this.applicationKeypad){a='OF';break}a='OF';break;case 33:if(b.shiftKey)return this.scrollDisp(-(this.rows-1)),d(b);a='[5~';break;case 34:if(b.shiftKey)return this.scrollDisp(this.rows-1),d(b);a='[6~';break;case 112:a='OP';break;case 113:a='OQ';break;case 114:a='OR';break;case 115:a='OS';break;case 116:a='[15~';break;case 117:a='[17~';break;case 118:a='[18~';break;case 119:a='[19~';break;case 120:a='[20~';break;case 121:a='[21~';break;case 122:a='[23~';break;case 123:a='[24~';break;default:if(b.ctrlKey)if(b.keyCode>=65&&b.keyCode<=90){if(this.screenKeys&&!(this.prefixMode||this.selectMode)&&b.keyCode===65)return this.enterPrefix(),d(b);if(this.prefixMode&&b.keyCode===86){this.leavePrefix();return}if((this.prefixMode||this.selectMode)&&b.keyCode===67){this.visualMode&&h(function(){c.leaveVisual()},1);return}a=g.fromCharCode(b.keyCode-64)}else b.keyCode===32?a=g.fromCharCode(0):b.keyCode>=51&&b.keyCode<=55?a=g.fromCharCode(b.keyCode-51+27):b.keyCode===56?a=g.fromCharCode(127):b.keyCode===219?a=g.fromCharCode(27):b.keyCode===221&&(a=g.fromCharCode(29));else(!this.isMac&&b.altKey||this.isMac&&b.metaKey)&&(b.keyCode>=65&&b.keyCode<=90?a=''+g.fromCharCode(b.keyCode+32):b.keyCode===192?a='`':b.keyCode>=48&&b.keyCode<=57&&(a=''+(b.keyCode-48)));break}return a?this.prefixMode?(this.leavePrefix(),d(b)):this.selectMode?(this.keySelect(b,a),d(b)):(this.emit('keydown',b),this.emit('key',a,b),this.showCursor(),this.handler(a),d(b)):!0},b.prototype.setgLevel=function(a){this.glevel=a,this.charset=this.charsets[a]},b.prototype.setgCharset=function(a,b){this.charsets[a]=b,this.glevel===a&&(this.charset=b)},b.prototype.keyPress=function(a){var b;if(d(a),a.charCode)b=a.charCode;else if(a.which==null)b=a.keyCode;else if(a.which!==0&&a.charCode!==0)b=a.which;else return!1;return!b||a.ctrlKey||a.altKey||a.metaKey?!1:(b=g.fromCharCode(b),this.prefixMode?(this.leavePrefix(),this.keyPrefix(a,b),!1):this.selectMode?(this.keySelect(a,b),!1):(this.emit('keypress',b,a),this.emit('key',b,a),this.showCursor(),this.handler(b),!1))},b.prototype.send=function(b){var a=this;this.queue||h(function(){a.handler(a.queue),a.queue=''},1),this.queue+=b},b.prototype.bell=function(){if(!this.visualBell)return;var a=this;this.element.style.borderColor='white',h(function(){a.element.style.borderColor=''},10),this.popOnBell&&this.focus()},b.prototype.log=function(){if(!this.debug)return;if(!(this.context.console&&this.context.console.log))return;var a=Array.prototype.slice.call(arguments);this.context.console.log.apply(this.context.console,a)},b.prototype.error=function(){if(!this.debug)return;if(!(this.context.console&&this.context.console.error))return;var a=Array.prototype.slice.call(arguments);this.context.console.error.apply(this.context.console,a)},b.prototype.resize=function(b,a){var f,e,d,c,g;if(b<1&&(b=1),a<1&&(a=1),c=this.cols,c<b){g=[this.defAttr,' '],d=this.lines.length;while(d--)while(this.lines[d].length<b)this.lines[d].push(g)}else if(c>b){d=this.lines.length;while(d--)while(this.lines[d].length>b)this.lines[d].pop()}if(this.setupStops(c),this.cols=b,c=this.rows,c<a){e=this.element;while(c++<a)this.lines.length<a+this.ybase&&this.lines.push(this.blankLine()),this.children.length<a&&(f=this.document.createElement('div'),e.appendChild(f),this.children.push(f))}else if(c>a)while(c-->a)if(this.lines.length>a+this.ybase&&this.lines.pop(),this.children.length>a){if(e=this.children.pop(),!e)continue;e.parentNode.removeChild(e)}this.rows=a,this.y>=a&&(this.y=a-1),this.x>=b&&(this.x=b-1),this.scrollTop=0,this.scrollBottom=a-1,this.refresh(0,this.rows-1),this.normal=null},b.prototype.updateRange=function(a){a<this.refreshStart&&(this.refreshStart=a),a>this.refreshEnd&&(this.refreshEnd=a)},b.prototype.maxRange=function(){this.refreshStart=0,this.refreshEnd=this.rows-1},b.prototype.setupStops=function(a){for(a!=null?this.tabs[a]||(a=this.prevStop(a)):(this.tabs={},a=0);a<this.cols;a+=8)this.tabs[a]=!0},b.prototype.prevStop=function(a){a==null&&(a=this.x);while(!this.tabs[--a]&&a>0);return a>=this.cols?this.cols-1:a<0?0:a},b.prototype.nextStop=function(a){a==null&&(a=this.x);while(!this.tabs[++a]&&a<this.cols);return a>=this.cols?this.cols-1:a<0?0:a},b.prototype.eraseRight=function(a,b){var c=this.lines[this.ybase+b],d=[this.eraseAttr(),' '];for(;a<this.cols;a++)c[a]=d;this.updateRange(b)},b.prototype.eraseLeft=function(a,b){var c=this.lines[this.ybase+b],d=[this.eraseAttr(),' '];a++;while(a--)c[a]=d;this.updateRange(b)},b.prototype.eraseLine=function(a){this.eraseRight(0,a)},b.prototype.blankLine=function(e){var c=e?this.eraseAttr():this.defAttr,d=[c,' '],b=[],a=0;for(;a<this.cols;a++)b[a]=d;return b},b.prototype.ch=function(a){return a?[this.eraseAttr(),' ']:[this.defAttr,' ']},b.prototype.is=function(b){var a=this.termName;return(a+'').indexOf(b)===0},b.prototype.handler=function(a){this.emit('data',a)},b.prototype.handleTitle=function(a){this.emit('title',a)},b.prototype.index=function(){this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll()),this.state=c},b.prototype.reverseIndex=function(){var a;this.y--,this.y<this.scrollTop&&(this.y++,this.lines.splice(this.y+this.ybase,0,this.blankLine(!0)),a=this.rows-1-this.scrollBottom,this.lines.splice(this.rows-1+this.ybase-a+1,1),this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)),this.state=c},b.prototype.reset=function(){this.options.rows=this.rows,this.options.cols=this.cols,b.call(this,this.options),this.refresh(0,this.rows-1)},b.prototype.tabSet=function(){this.tabs[this.x]=!0,this.state=c},b.prototype.cursorUp=function(b){var a=b[0];a<1&&(a=1),this.y-=a,this.y<0&&(this.y=0)},b.prototype.cursorDown=function(b){var a=b[0];a<1&&(a=1),this.y+=a,this.y>=this.rows&&(this.y=this.rows-1)},b.prototype.cursorForward=function(b){var a=b[0];a<1&&(a=1),this.x+=a,this.x>=this.cols&&(this.x=this.cols-1)},b.prototype.cursorBackward=function(b){var a=b[0];a<1&&(a=1),this.x-=a,this.x<0&&(this.x=0)},b.prototype.cursorPos=function(c){var b,a;b=c[0]-1,c.length>=2?a=c[1]-1:a=0,b<0?b=0:b>=this.rows&&(b=this.rows-1),a<0?a=0:a>=this.cols&&(a=this.cols-1),this.x=a,this.y=b},b.prototype.eraseInDisplay=function(b){var a;switch(b[0]){case 0:this.eraseRight(this.x,this.y);a=this.y+1;for(;a<this.rows;a++)this.eraseLine(a);break;case 1:this.eraseLeft(this.x,this.y);a=this.y;while(a--)this.eraseLine(a);break;case 2:a=this.rows;while(a--)this.eraseLine(a);break;case 3:break}},b.prototype.eraseInLine=function(a){switch(a[0]){case 0:this.eraseRight(this.x,this.y);break;case 1:this.eraseLeft(this.x,this.y);break;case 2:this.eraseLine(this.y);break}},b.prototype.charAttributes=function(c){if(c.length===1&&c[0]===0){this.curAttr=this.defAttr;return}var g=c.length,b=0,d=this.curAttr>>18,e=this.curAttr>>9&511,f=this.curAttr&511,a;for(;b<g;b++)a=c[b],a>=30&&a<=37?e=a-30:a>=40&&a<=47?f=a-40:a>=90&&a<=97?(a+=8,e=a-90):a>=100&&a<=107?(a+=8,f=a-100):a===0?(d=this.defAttr>>18,e=this.defAttr>>9&511,f=this.defAttr&511):a===1?d|=1:a===4?d|=2:a===5?d|=4:a===7?d|=8:a===8?d|=16:a===22?d&=-2:a===24?d&=-3:a===25?d&=-5:a===27?d&=-9:a===28?d&=-17:a===39?e=this.defAttr>>9&511:a===49?f=this.defAttr&511:a===38?c[b+1]===2?(b+=2,e=i(c[b]&255,c[b+1]&255,c[b+2]&255),e===-1&&(e=511),b+=2):c[b+1]===5&&(b+=2,a=c[b]&255,e=a):a===48?c[b+1]===2?(b+=2,f=i(c[b]&255,c[b+1]&255,c[b+2]&255),f===-1&&(f=511),b+=2):c[b+1]===5&&(b+=2,a=c[b]&255,f=a):a===100?(e=this.defAttr>>9&511,f=this.defAttr&511):this.error('Unknown SGR attribute: %d.',a);this.curAttr=d<<18|e<<9|f},b.prototype.deviceStatus=function(a){if(!this.prefix)switch(a[0]){case 5:this.send('[0n');break;case 6:this.send('['+(this.y+1)+';'+(this.x+1)+'R');break}else if(this.prefix==='?')switch(a[0]){case 6:this.send('[?'+(this.y+1)+';'+(this.x+1)+'R');break;case 15:break;case 25:break;case 26:break;case 53:break}},b.prototype.insertChars=function(e){var a,b,c,d;a=e[0],a<1&&(a=1),b=this.y+this.ybase,c=this.x,d=[this.eraseAttr(),' '];while(a--&&c<this.cols)this.lines[b].splice(c++,0,d),this.lines[b].pop()},b.prototype.cursorNextLine=function(b){var a=b[0];a<1&&(a=1),this.y+=a,this.y>=this.rows&&(this.y=this.rows-1),this.x=0},b.prototype.cursorPrecedingLine=function(b){var a=b[0];a<1&&(a=1),this.y-=a,this.y<0&&(this.y=0),this.x=0},b.prototype.cursorCharAbsolute=function(b){var a=b[0];a<1&&(a=1),this.x=a-1},b.prototype.insertLines=function(d){var a,c,b;a=d[0],a<1&&(a=1),c=this.y+this.ybase,b=this.rows-1-this.scrollBottom,b=this.rows-1+this.ybase-b+1;while(a--)this.lines.splice(c,0,this.blankLine(!0)),this.lines.splice(b,1);this.updateRange(this.y),this.updateRange(this.scrollBottom)},b.prototype.deleteLines=function(d){var a,c,b;a=d[0],a<1&&(a=1),c=this.y+this.ybase,b=this.rows-1-this.scrollBottom,b=this.rows-1+this.ybase-b;while(a--)this.lines.splice(b+1,0,this.blankLine(!0)),this.lines.splice(c,1);this.updateRange(this.y),this.updateRange(this.scrollBottom)},b.prototype.deleteChars=function(d){var a,b,c;a=d[0],a<1&&(a=1),b=this.y+this.ybase,c=[this.eraseAttr(),' '];while(a--)this.lines[b].splice(this.x,1),this.lines[b].push(c)},b.prototype.eraseChars=function(e){var a,c,b,d;a=e[0],a<1&&(a=1),c=this.y+this.ybase,b=this.x,d=[this.eraseAttr(),' '];while(a--&&b<this.cols)this.lines[c][b++]=d},b.prototype.charPosAbsolute=function(b){var a=b[0];a<1&&(a=1),this.x=a-1,this.x>=this.cols&&(this.x=this.cols-1)},b.prototype.HPositionRelative=function(b){var a=b[0];a<1&&(a=1),this.x+=a,this.x>=this.cols&&(this.x=this.cols-1)},b.prototype.sendDeviceAttributes=function(a){if(a[0]>0)return;this.prefix?this.prefix==='>'&&(this.is('xterm')?this.send('[>0;276;0c'):this.is('rxvt-unicode')?this.send('[>85;95;0c'):this.is('linux')?this.send(a[0]+'c'):this.is('screen')&&this.send('[>83;40003;0c')):this.is('xterm')||this.is('rxvt-unicode')||this.is('screen')?this.send('[?1;2c'):this.is('linux')&&this.send('[?6c')},b.prototype.linePosAbsolute=function(b){var a=b[0];a<1&&(a=1),this.y=a-1,this.y>=this.rows&&(this.y=this.rows-1)},b.prototype.VPositionRelative=function(b){var a=b[0];a<1&&(a=1),this.y+=a,this.y>=this.rows&&(this.y=this.rows-1)},b.prototype.HVPosition=function(a){a[0]<1&&(a[0]=1),a[1]<1&&(a[1]=1),this.y=a[0]-1,this.y>=this.rows&&(this.y=this.rows-1),this.x=a[1]-1,this.x>=this.cols&&(this.x=this.cols-1)},b.prototype.setMode=function(a){if(typeof a==='object'){var d=a.length,c=0;for(;c<d;c++)this.setMode(a[c]);return}if(!this.prefix)switch(a){case 4:this.insertMode=!0;break;case 20:break}else if(this.prefix==='?')switch(a){case 1:this.applicationCursor=!0;break;case 2:this.setgCharset(0,b.charsets.US);this.setgCharset(1,b.charsets.US);this.setgCharset(2,b.charsets.US);this.setgCharset(3,b.charsets.US);break;case 3:this.savedCols=this.cols;this.resize(132,this.rows);break;case 6:this.originMode=!0;break;case 7:this.wraparoundMode=!0;break;case 12:break;case 66:this.log('Serial port requested application keypad.');this.applicationKeypad=!0;break;case 9:case 1e3:case 1002:case 1003:this.x10Mouse=a===9;this.vt200Mouse=a===1e3;this.normalMouse=a>1e3;this.mouseEvents=!0;this.element.style.cursor='default';this.log('Binding to mouse events.');break;case 1004:this.sendFocus=!0;break;case 1005:this.utfMouse=!0;break;case 1006:this.sgrMouse=!0;break;case 1015:this.urxvtMouse=!0;break;case 25:this.cursorHidden=!1;break;case 1049:case 47:case 1047:if(!this.normal){var e={lines:this.lines,ybase:this.ybase,ydisp:this.ydisp,x:this.x,y:this.y,scrollTop:this.scrollTop,scrollBottom:this.scrollBottom,tabs:this.tabs};this.reset(),this.normal=e,this.showCursor()}break}},b.prototype.resetMode=function(a){if(typeof a==='object'){var c=a.length,b=0;for(;b<c;b++)this.resetMode(a[b]);return}if(!this.prefix)switch(a){case 4:this.insertMode=!1;break;case 20:break}else if(this.prefix==='?')switch(a){case 1:this.applicationCursor=!1;break;case 3:this.cols===132&&this.savedCols&&this.resize(this.savedCols,this.rows);delete this.savedCols;break;case 6:this.originMode=!1;break;case 7:this.wraparoundMode=!1;break;case 12:break;case 66:this.log('Switching back to normal keypad.');this.applicationKeypad=!1;break;case 9:case 1e3:case 1002:case 1003:this.x10Mouse=!1;this.vt200Mouse=!1;this.normalMouse=!1;this.mouseEvents=!1;this.element.style.cursor='';break;case 1004:this.sendFocus=!1;break;case 1005:this.utfMouse=!1;break;case 1006:this.sgrMouse=!1;break;case 1015:this.urxvtMouse=!1;break;case 25:this.cursorHidden=!0;break;case 1049:case 47:case 1047:this.normal&&(this.lines=this.normal.lines,this.ybase=this.normal.ybase,this.ydisp=this.normal.ydisp,this.x=this.normal.x,this.y=this.normal.y,this.scrollTop=this.normal.scrollTop,this.scrollBottom=this.normal.scrollBottom,this.tabs=this.normal.tabs,this.normal=null,this.refresh(0,this.rows-1),this.showCursor());break}},b.prototype.setScrollRegion=function(a){if(this.prefix)return;this.scrollTop=(a[0]||1)-1,this.scrollBottom=(a[1]||this.rows)-1,this.x=0,this.y=0},b.prototype.saveCursor=function(a){this.savedX=this.x,this.savedY=this.y},b.prototype.restoreCursor=function(a){this.x=this.savedX||0,this.y=this.savedY||0},b.prototype.cursorForwardTab=function(b){var a=b[0]||1;while(a--)this.x=this.nextStop()},b.prototype.scrollUp=function(b){var a=b[0]||1;while(a--)this.lines.splice(this.ybase+this.scrollTop,1),this.lines.splice(this.ybase+this.scrollBottom,0,this.blankLine());this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},b.prototype.scrollDown=function(b){var a=b[0]||1;while(a--)this.lines.splice(this.ybase+this.scrollBottom,1),this.lines.splice(this.ybase+this.scrollTop,0,this.blankLine());this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},b.prototype.initMouseTracking=function(a){},b.prototype.resetTitleModes=function(a){},b.prototype.cursorBackwardTab=function(b){var a=b[0]||1;while(a--)this.x=this.prevStop()},b.prototype.repeatPrecedingCharacter=function(d){var b=d[0]||1,a=this.lines[this.ybase+this.y],c=a[this.x-1]||[this.defAttr,' '];while(b--)a[this.x++]=c},b.prototype.tabClear=function(b){var a=b[0];a<=0?delete this.tabs[this.x]:a===3&&(this.tabs={})},b.prototype.mediaCopy=function(a){},b.prototype.setResources=function(a){},b.prototype.disableModifiers=function(a){},b.prototype.setPointerMode=function(a){},b.prototype.softReset=function(a){this.cursorHidden=!1,this.insertMode=!1,this.originMode=!1,this.wraparoundMode=!1,this.applicationKeypad=!1,this.applicationCursor=!1,this.scrollTop=0,this.scrollBottom=this.rows-1,this.curAttr=this.defAttr,this.x=this.y=0,this.charset=null,this.glevel=0,this.charsets=[null]},b.prototype.requestAnsiMode=function(a){},b.prototype.requestPrivateMode=function(a){},b.prototype.setConformanceLevel=function(a){},b.prototype.loadLEDs=function(a){},b.prototype.setCursorStyle=function(a){},b.prototype.setCharProtectionAttr=function(a){},b.prototype.restorePrivateValues=function(a){},b.prototype.setAttrInRectangle=function(a){var c=a[0],e=a[1],f=a[2],g=a[3],h=a[4],d,b;for(;c<f+1;c++)for(d=this.lines[this.ybase+c],b=e;b<g;b++)d[b]=[h,d[b][1]];this.updateRange(a[0]),this.updateRange(a[2])},b.prototype.savePrivateValues=function(a){},b.prototype.manipulateWindow=function(a){},b.prototype.reverseAttrInRectangle=function(a){},b.prototype.setTitleModeFeature=function(a){},b.prototype.setWarningBellVolume=function(a){},b.prototype.setMarginBellVolume=function(a){},b.prototype.copyRectangle=function(a){},b.prototype.enableFilterRectangle=function(a){},b.prototype.requestParameters=function(a){},b.prototype.selectChangeExtent=function(a){},b.prototype.fillRectangle=function(a){var e=a[0],c=a[1],f=a[2],h=a[3],i=a[4],d,b;for(;c<h+1;c++)for(d=this.lines[this.ybase+c],b=f;b<i;b++)d[b]=[d[b][0],g.fromCharCode(e)];this.updateRange(a[1]),this.updateRange(a[3])},b.prototype.enableLocatorReporting=function(a){var b=a[0]>0},b.prototype.eraseRectangle=function(a){var b=a[0],d=a[1],e=a[2],f=a[3],g,c,h;for(h=[this.eraseAttr(),' '];b<e+1;b++)for(g=this.lines[this.ybase+b],c=d;c<f;c++)g[c]=h;this.updateRange(a[0]),this.updateRange(a[2])},b.prototype.setLocatorEvents=function(a){},b.prototype.selectiveEraseRectangle=function(a){},b.prototype.requestLocatorPosition=function(a){},b.prototype.insertColumns=function(){var b=params[0],c=this.ybase+this.rows,d=[this.eraseAttr(),' '],a;while(b--)for(a=this.ybase;a<c;a++)this.lines[a].splice(this.x+1,0,d),this.lines[a].pop();this.maxRange()},b.prototype.deleteColumns=function(){var b=params[0],c=this.ybase+this.rows,d=[this.eraseAttr(),' '],a;while(b--)for(a=this.ybase;a<c;a++)this.lines[a].splice(this.x,1),this.lines[a].push(d);this.maxRange()},b.prototype.enterPrefix=function(){this.prefixMode=!0},b.prototype.leavePrefix=function(){this.prefixMode=!1},b.prototype.enterSelect=function(){this._real={x:this.x,y:this.y,ydisp:this.ydisp,ybase:this.ybase,cursorHidden:this.cursorHidden,lines:this.copyBuffer(this.lines),write:this.write},this.write=function(){},this.selectMode=!0,this.visualMode=!1,this.cursorHidden=!1,this.refresh(this.y,this.y)},b.prototype.leaveSelect=function(){this.x=this._real.x,this.y=this._real.y,this.ydisp=this._real.ydisp,this.ybase=this._real.ybase,this.cursorHidden=this._real.cursorHidden,this.lines=this._real.lines,this.write=this._real.write,delete this._real,this.selectMode=!1,this.visualMode=!1,this.refresh(0,this.rows-1)},b.prototype.enterVisual=function(){this._real.preVisual=this.copyBuffer(this.lines),this.selectText(this.x,this.x,this.ydisp+this.y,this.ydisp+this.y),this.visualMode=!0},b.prototype.leaveVisual=function(){this.lines=this._real.preVisual,delete this._real.preVisual,delete this._selected,this.visualMode=!1,this.refresh(0,this.rows-1)},b.prototype.enterSearch=function(c){this.entry='',this.searchMode=!0,this.searchDown=c,this._real.preSearch=this.copyBuffer(this.lines),this._real.preSearchX=this.x,this._real.preSearchY=this.y;var b=this.ydisp+this.rows-1;for(var a=0;a<this.entryPrefix.length;a++)this.lines[b][a]=[this.defAttr&-512|4,this.entryPrefix[a]];this.y=this.rows-1,this.x=this.entryPrefix.length,this.refresh(this.rows-1,this.rows-1)},b.prototype.leaveSearch=function(){this.searchMode=!1,this._real.preSearch&&(this.lines=this._real.preSearch,this.x=this._real.preSearchX,this.y=this._real.preSearchY,delete this._real.preSearch,delete this._real.preSearchX,delete this._real.preSearchY),this.refresh(this.rows-1,this.rows-1)},b.prototype.copyBuffer=function(b){var b=b||this.lines,d=[];for(var a=0;a<b.length;a++){d[a]=[];for(var c=0;c<b[a].length;c++)d[a][c]=[b[a][c][0],b[a][c][1]]}return d},b.prototype.getCopyTextarea=function(c){var a=this._copyTextarea,b=this.document;return a||(a=b.createElement('textarea'),a.style.position='absolute',a.style.left='-32000px',a.style.top='-32000px',a.style.width='0px',a.style.height='0px',a.style.opacity='0',a.style.backgroundColor='transparent',a.style.borderStyle='none',a.style.outlineStyle='none',b.getElementsByTagName('body')[0].appendChild(a),this._copyTextarea=a),a},b.prototype.copyText=function(b){var c=this,a=this.getCopyTextarea();this.emit('copy',b),a.focus(),a.textContent=b,a.value=b,a.setSelectionRange(0,b.length),h(function(){c.element.focus(),c.focus()},1)},b.prototype.selectText=function(f,g,b,d){var j,k,i,h,e,c,a,l,m;if(this._selected){for(j=this._selected.x1,k=this._selected.x2,i=this._selected.y1,h=this._selected.y2,h<i&&(e=k,k=j,j=e,e=h,h=i,i=e),k<j&&i===h&&(e=k,k=j,j=e),a=i;a<=h;a++)for(c=0,l=this.cols-1,a===i&&(c=j),a===h&&(l=k);c<=l;c++)this.lines[a][c].old!=null&&(m=this.lines[a][c].old,delete this.lines[a][c].old,this.lines[a][c]=[m,this.lines[a][c][1]]);b=this._selected.y1,f=this._selected.x1}for(b=Math.max(b,0),b=Math.min(b,this.ydisp+this.rows-1),d=Math.max(d,0),d=Math.min(d,this.ydisp+this.rows-1),this._selected={x1:f,x2:g,y1:b,y2:d},d<b&&(e=g,g=f,f=e,e=d,d=b,b=e),g<f&&b===d&&(e=g,g=f,f=e),a=b;a<=d;a++)for(c=0,l=this.cols-1,a===b&&(c=f),a===d&&(l=g);c<=l;c++)m=this.lines[a][c][0],this.lines[a][c]=[m&-512|261636,this.lines[a][c][1]],this.lines[a][c].old=m;b-=this.ydisp,d-=this.ydisp,b=Math.max(b,0),b=Math.min(b,this.rows-1),d=Math.max(d,0),d=Math.min(d,this.rows-1),this.refresh(0,this.rows-1)},b.prototype.grabText=function(g,c,i,d){var e='',f='',j,a,b,k,h;for(d<i&&(h=c,c=g,g=h,h=d,d=i,i=h),c<g&&i===d&&(h=c,c=g,g=h),b=i;b<=d;b++){for(a=0,k=this.cols-1,b===i&&(a=g),b===d&&(k=c);a<=k;a++){if(j=this.lines[b][a][1],j===' '){f+=j;continue}f&&(e+=f,f=''),e+=j,m(j)&&a++}f='',e+='\n'}for(a=c,b=d;a<this.cols;a++)if(this.lines[b][a][1]!==' '){e=e.slice(0,-1);break}return e},b.prototype.keyPrefix=function(b,a){a==='k'||a==='&'?this.destroy():a==='p'||a===']'?this.emit('request paste'):a==='c'?this.emit('request create'):a>='0'&&a<='9'?(a=+a-1,~a||(a=9),this.emit('request term',a)):a==='n'?this.emit('request term next'):a==='P'?this.emit('request term previous'):a===':'?this.emit('request command mode'):a==='['&&this.enterSelect()},b.prototype.keySelect=function(o,b){if(this.showCursor(),this.searchMode||b==='n'||b==='N')return this.keySearch(o,b);if(b===''){var c=this.ydisp+this.y;this.ydisp===this.ybase?(this.y=Math.min(this.y+(this.rows-1)/2|0,this.rows-1),this.refresh(0,this.rows-1)):this.scrollDisp((this.rows-1)/2|0),this.visualMode&&this.selectText(this.x,this.x,c,this.ydisp+this.y);return}if(b===''){var c=this.ydisp+this.y;this.ydisp===0?(this.y=Math.max(this.y-(this.rows-1)/2|0,0),this.refresh(0,this.rows-1)):this.scrollDisp(-(this.rows-1)/2|0),this.visualMode&&this.selectText(this.x,this.x,c,this.ydisp+this.y);return}if(b===''){var c=this.ydisp+this.y;this.scrollDisp(this.rows-1),this.visualMode&&this.selectText(this.x,this.x,c,this.ydisp+this.y);return}if(b===''){var c=this.ydisp+this.y;this.scrollDisp(-(this.rows-1)),this.visualMode&&this.selectText(this.x,this.x,c,this.ydisp+this.y);return}if(b==='k'||b==='[A'){var c=this.ydisp+this.y;this.y--,this.y<0&&(this.y=0,this.scrollDisp(-1)),this.visualMode?this.selectText(this.x,this.x,c,this.ydisp+this.y):this.refresh(this.y,this.y+1);return}if(b==='j'||b==='[B'){var c=this.ydisp+this.y;this.y++,this.y>=this.rows&&(this.y=this.rows-1,this.scrollDisp(1)),this.visualMode?this.selectText(this.x,this.x,c,this.ydisp+this.y):this.refresh(this.y-1,this.y);return}if(b==='h'||b==='[D'){var a=this.x;this.x--,this.x<0&&(this.x=0),this.visualMode?this.selectText(a,this.x,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y);return}if(b==='l'||b==='[C'){var a=this.x;this.x++,this.x>=this.cols&&(this.x=this.cols-1),this.visualMode?this.selectText(a,this.x,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y);return}if(b==='v'||b===' '){this.visualMode?this.leaveVisual():this.enterVisual();return}if(b==='y'){if(this.visualMode){var n=this.grabText(this._selected.x1,this._selected.x2,this._selected.y1,this._selected.y2);this.copyText(n),this.leaveVisual()}return}if(b==='q'||b===''){this.visualMode?this.leaveVisual():this.leaveSelect();return}if(b==='w'||b==='W'){var f=this.x,g=this.y,h=this.ydisp,a=this.x,c=this.y,d=this.ydisp,i=!1;for(;;){var e=this.lines[d+c];while(a<this.cols){if(e[a][1]<=' ')i=!0;else if(i)break;a++}if(a>=this.cols&&(a=this.cols-1),a===this.cols-1&&e[a][1]<=' '){if(a=0,++c>=this.rows&&(c--,++d>this.ybase)){d=this.ybase,a=this.x;break}continue}break}this.x=a,this.y=c,this.scrollDisp(-this.ydisp+d),this.visualMode&&this.selectText(f,this.x,g+h,this.ydisp+this.y);return}if(b==='b'||b==='B'){var f=this.x,g=this.y,h=this.ydisp,a=this.x,c=this.y,d=this.ydisp;for(;;){var e=this.lines[d+c],i=a>0&&e[a][1]>' '&&e[a-1][1]>' ';while(a>=0){if(e[a][1]<=' ')if(i&&a+1<this.cols&&e[a+1][1]>' '){a++;break}else i=!0;a--}if(a<0&&(a=0),a===0&&(e[a][1]<=' '||!i)){if(a=this.cols-1,--c<0&&(c++,--d<0)){d++,a=0;break}continue}break}this.x=a,this.y=c,this.scrollDisp(-this.ydisp+d),this.visualMode&&this.selectText(f,this.x,g+h,this.ydisp+this.y);return}if(b==='e'||b==='E'){var a=this.x+1,c=this.y,d=this.ydisp;for(a>=this.cols&&a--;;){var e=this.lines[d+c];while(a<this.cols)if(e[a][1]<=' ')a++;else break;while(a<this.cols){if(e[a][1]<=' '&&a-1>=0&&e[a-1][1]>' '){a--;break}a++}if(a>=this.cols&&(a=this.cols-1),a===this.cols-1&&e[a][1]<=' '){if(a=0,++c>=this.rows&&(c--,++d>this.ybase)){d=this.ybase;break}continue}break}this.x=a,this.y=c,this.scrollDisp(-this.ydisp+d),this.visualMode&&this.selectText(f,this.x,g+h,this.ydisp+this.y);return}if(b==='^'||b==='0'){var f=this.x;if(b==='0')this.x=0;else if(b==='^'){var e=this.lines[this.ydisp+this.y],a=0;while(a<this.cols){if(e[a][1]>' ')break;a++}a>=this.cols&&(a=this.cols-1),this.x=a}this.visualMode?this.selectText(f,this.x,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y);return}if(b==='$'){var f=this.x,e=this.lines[this.ydisp+this.y],a=this.cols-1;while(a>=0){if(e[a][1]>' '){this.visualMode&&a<this.cols-1&&a++;break}a--}a<0&&(a=0),this.x=a,this.visualMode?this.selectText(f,this.x,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y);return}if(b==='g'||b==='G'){var f=this.x,g=this.y,h=this.ydisp;b==='g'?(this.x=0,this.y=0,this.scrollDisp(-this.ydisp)):b==='G'&&(this.x=0,this.y=this.rows-1,this.scrollDisp(this.ybase)),this.visualMode&&this.selectText(f,this.x,g+h,this.ydisp+this.y);return}if(b==='H'||b==='M'||b==='L'){var f=this.x,g=this.y;b==='H'?(this.x=0,this.y=0):b==='M'?(this.x=0,this.y=this.rows/2|0):b==='L'&&(this.x=0,this.y=this.rows-1),this.visualMode?this.selectText(f,this.x,this.ydisp+g,this.ydisp+this.y):(this.refresh(g,g),this.refresh(this.y,this.y));return}if(b==='{'||b==='}'){var f=this.x,g=this.y,h=this.ydisp,e,m=!1,k=!1,j=-1,c=this.y+(b==='{'?-1:1),d=this.ydisp,l;for(b==='{'?c<0&&(c++,d>0&&d--):b==='}'&&c>=this.rows&&(c--,d<this.ybase&&d++);;){for(e=this.lines[d+c],l=0;l<this.cols;l++)if(e[l][1]>' '){j===-1&&(j=0),m=!0;break}else if(l===this.cols-1){j===-1?j=1:j===0?k=!0:j===1&&m&&(k=!0);break}if(k)break;if(b==='{'){if(c--,c<0){if(c++,!(d>0))break;d--}}else if(b==='}'&&(c++,c>=this.rows)){if(c--,!(d<this.ybase))break;d++}}k||(b==='{'?(c=0,d=0):b==='}'&&(c=this.rows-1,d=this.ybase)),this.x=0,this.y=c,this.scrollDisp(-this.ydisp+d),this.visualMode&&this.selectText(f,this.x,g+h,this.ydisp+this.y);return}if(b==='/'||b==='?'){this.visualMode||this.enterSearch(b==='/');return}return!1},b.prototype.keySearch=function(o,c){if(c===''){this.leaveSearch();return}if(c==='\r'||!this.searchMode&&(c==='n'||c==='N')){this.leaveSearch();var f=this.entry;if(!f){this.refresh(0,this.rows-1);return}var m=this.x,l=this.y,k=this.ydisp,j,h=!1,i=!1,d=this.x+1,b=this.ydisp+this.y,g,a,n=c==='N'?this.searchDown:!this.searchDown;for(;;){j=this.lines[b];while(d<this.cols){for(a=0;a<f.length;a++){if(d+a>=this.cols)break;if(j[d+a][1]!==f[a])break;if(j[d+a][1]===f[a]&&a===f.length-1){h=!0;break}}if(h)break;d+=a+1}if(h)break;if(d=0,!n){if(b++,b>this.ybase+this.rows-1){if(i)break;i=!0,b=0}}else if(b--,b<0){if(i)break;i=!0,b=this.ybase+this.rows-1}}if(h){b-this.ybase<0?(g=b,b=0,g>this.ybase&&(b=g-this.ybase,g=this.ybase)):(g=this.ybase,b-=this.ybase),this.x=d,this.y=b,this.scrollDisp(-this.ydisp+g),this.visualMode&&this.selectText(m,this.x,l+k,this.ydisp+this.y);return}this.refresh(0,this.rows-1);return}if(c===''||c===''){if(this.entry.length===0)return;var e=this.ydisp+this.rows-1;this.entry=this.entry.slice(0,-1);var a=this.entryPrefix.length+this.entry.length;this.lines[e][a]=[this.lines[e][a][0],' '],this.x--,this.refresh(this.rows-1,this.rows-1),this.refresh(this.y,this.y);return}if(c.length===1&&c>=' '&&c<='~'){var e=this.ydisp+this.rows-1;this.entry+=c;var a=this.entryPrefix.length+this.entry.length-1;this.lines[e][a]=[this.defAttr&-512|4,c],this.x++,this.refresh(this.rows-1,this.rows-1),this.refresh(this.y,this.y);return}return!1},b.charsets={},b.charsets.SCLD={'`':'◆',a:'▒',b:'	',c:'',d:'\r',e:'\n',f:'°',g:'±',h:'␤',i:'',j:'┘',k:'┐',l:'┌',m:'└',n:'┼',o:'⎺',p:'⎻',q:'─',r:'⎼',s:'⎽',t:'├',u:'┤',v:'┴',w:'┬',x:'│',y:'≤',z:'≥','{':'π','|':'≠','}':'£','~':'·'},b.charsets.UK=null,b.charsets.US=null,b.charsets.Dutch=null,b.charsets.Finnish=null,b.charsets.French=null,b.charsets.FrenchCanadian=null,b.charsets.German=null,b.charsets.Italian=null,b.charsets.NorwegianDanish=null,b.charsets.Spanish=null,b.charsets.Swedish=null,b.charsets.Swiss=null,b.charsets.ISOLatin=null;var g=this.String,h=this.setTimeout,s=this.setInterval;i._cache={},i.distance=function(a,b,c,d,e,f){return Math.pow(30*(a-d),2)+Math.pow(59*(b-e),2)+Math.pow(11*(c-f),2)},b.EventEmitter=f,b.inherits=u,b.on=e,b.off=q,b.cancel=d,a!==void 0?a.exports=b:this.Terminal=b}.call(function(){return this||(typeof window!=='undefined'?window:b)}()))},{}]},{},[1])